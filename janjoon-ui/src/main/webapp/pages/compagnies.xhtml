<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">
<ui:composition>
	<h:form id="companyForm">
		<h:panelGroup layout="block" styleClass="Container ui-fluid">
			<h:panelGroup layout="block" styleClass="Container50 Responsive100">
				<p:dataTable id="categoryDataTable" var="company" lazy="true"
					sortMode="multiple" paginatorPosition="bottom"
					emptyMessage="#{messages.label_notRecordFound}"
					value="#{jJCompanyBean.lazyCompanyList}" paginator="true"
					widgetVar="companyDataTableWV" rows="15" rowKey="#{company.id}">
					<f:facet name="header">
						<h:panelGroup layout="block" styleClass="Container">
							<h:panelGroup layout="block" style="float: right !important;"
								styleClass="Container30  Fs20">
								<h:outputText style="font-family: 'roboto_condensedlight';"
									value="#{messages.admin_company_table_header}" />
							</h:panelGroup>
							<h:panelGroup layout="block" styleClass="Container10 TexAlCenter">
								<p:commandButton styleClass="GrayButton"
									title="#{messages.admin_company_new_button}" id="newCompany"
									update=":companyDialogForm :companyDialogHeader"
									rendered="#{loginBean.authorisationService.adminCompany}"
									oncomplete="PF('companyDialogWidget').show();"
									icon="fa fa-plus Fs20" resetValues="true">
									<f:setPropertyActionListener
										target="#{jJCompanyBean.headerMessage}"
										value="admin_company_new_title" />
									<f:setPropertyActionListener value="#{null}"
										target="#{jJCompanyBean.companie}" />
								</p:commandButton>
							</h:panelGroup>
							<h:panelGroup layout="block"
								styleClass="Container60 Responsive100">
								<p:inputText id="globalFilter"
									rendered="#{loginBean.authorisationService.adminCompany}"
									onkeyup="PF('companyDataTableWV').filter()"
									placeholder="#{messages.bug_table_search_watermark}" />
							</h:panelGroup>
						</h:panelGroup>
					</f:facet>
					<p:column style="width: 70px !important;text-align: center;">
						<p:graphicImage styleClass="avatar" cache="false"
							value="#{imageStreamer.imageComp}"
							rendered="#{company.logo != null}">
							<f:param name="CompId" value="#{company.id}" />
						</p:graphicImage>
						<p:graphicImage styleClass="avatar" library="images"
							name="empty_company.png" rendered="#{company.logo == null}" />
					</p:column>
					<p:column sortBy="#{company.name}">
						<f:facet name="header">
							<h:outputText value="#{messages.admin_company_table_name_title}" />
						</f:facet>
						<h:outputText value="#{company.name}" />
					</p:column>
					<p:column styleClass="action-column" style="width: 15%;">
						<f:facet name="header">
							<h:outputText styleClass="ShowOnDesktop"
								value="#{messages.admin_company_table_action_title}" />
						</f:facet>
						<p:commandButton id="viewButton" type="button"
							icon="fa fa-list Fs20" styleClass="BlueButton littleButton" />
						<p:menu overlay="true" trigger="viewButton" my="right top"
							at="right bottom">
							<p:menuitem id="editButton" icon="fa fa-pencil Fs16"
								oncomplete="PF('companyDialogWidget').show();"
								value="#{messages.label_edit}" title="#{messages.label_edit}"
								update=":companyDialogForm :companyDialogHeader"
								resetValues="true">
								<f:setPropertyActionListener value="#{company}"
									target="#{jJCompanyBean.companie}" />
								<f:setPropertyActionListener
									target="#{jJCompanyBean.headerMessage}"
									value="admin_company_edit_title" />
							</p:menuitem>
							<p:menuitem id="deleteButton" icon="fa fa-trash Fs16"
								value="#{messages.label_delete}"
								oncomplete="PF('companyDeleteDialogWidget').show()"
								title="#{messages.label_delete}" resetValues="true">
								<f:setPropertyActionListener value="#{company}"
									target="#{jJCompanyBean.companie}" />
							</p:menuitem>
						</p:menu>
					</p:column>
					<!-- 					<f:facet name="footer"> -->
					<!-- 						<h:panelGroup layout="block" styleClass="Container"> -->
					<!-- 							<h:panelGroup layout="block" -->
					<!-- 								styleClass="Container50 Responsive50"> -->
					<!-- 								<h:panelGroup layout="block" styleClass="ContainerIndent"> -->
					<!-- 									<p:commandButton value="#{messages.admin_company_new_button}" -->
					<!-- 										title="#{messages.admin_company_new_button}" id="newCompany" -->
					<!-- 										update=":companyDialogForm :companyDialogHeader" -->
					<!-- 										rendered="#{loginBean.authorisationService.adminCompany}" -->
					<!-- 										oncomplete="PF('companyDialogWidget').show();" -->
					<!-- 										icon="fa fa-plus Fs20" resetValues="true"> -->
					<!-- 										<f:setPropertyActionListener -->
					<!-- 											target="#{jJCompanyBean.headerMessage}" -->
					<!-- 											value="admin_company_new_title" /> -->
					<!-- 										<f:setPropertyActionListener value="#{null}" -->
					<!-- 											target="#{jJCompanyBean.companie}" /> -->
					<!-- 									</p:commandButton> -->
					<!-- 								</h:panelGroup> -->
					<!-- 							</h:panelGroup> -->
					<!-- 						</h:panelGroup> -->
					<!-- 					</f:facet> -->
				</p:dataTable>
			</h:panelGroup>
		</h:panelGroup>
	</h:form>

	<p:confirmDialog id="companyDeleteDialog"
		widgetVar="companyDeleteDialogWidget"
		message="#{messages.admin_company_delete_label}" showEffect="fade"
		header="#{messages.admin_company_delete_title}" severity="alarm">
		<p:outputPanel id="companyDeletePanel">
			<h:form id="companyDeleteForm">
				<p:commandButton id="deleteYesButton"
					value="#{messages.admin_company_delete_yes_label}"
					action="#{jJCompanyBean.deleteCompany}"
					update=":tabview:companyForm :growlForm"
					oncomplete="PF('companyDeleteDialogWidget').hide()" />
				<p:commandButton id="deleteNoButton"
					value="#{messages.admin_company_delete_no_label}"
					onclick="PF('companyDeleteDialogWidget').hide()" type="button" />
			</h:form>
		</p:outputPanel>
	</p:confirmDialog>
</ui:composition>
</html>
