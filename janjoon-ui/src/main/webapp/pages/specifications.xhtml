<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<ui:composition template="../templates/layout.xhtml">

	<ui:define name="content">

		<h:form id="specForm">
			<f:event type="preRenderComponent"
				listener="#{jJRequirementBean.loadData()}" />

			<table>
				<tr>
					<ui:repeat value="#{jJRequirementBean.categoryList}" var="button">
						<p:commandButton id="input#{button.name}" value="#{button.name}"
							actionListener="#{jJRequirementBean.updateTemplate(button.id)}"
							update=":specForm" />
					</ui:repeat>

					<p:commandButton id="commandButton" value="Import"
						style="float: right;"
						actionListener="#{jJRequirementBean.loadImportFormat()}"
						update=":dialog" oncomplete="dialogWidget.show()" />
				</tr>
				<tr />

				<tr>
					<ui:repeat value="#{jJRequirementBean.tableDataModelList}"
						var="tableDataModel" varStatus="status">

						<td><p:dataTable id="dataTable" var="requirement"
								value="#{tableDataModel}" paginator="true" rows="6"
								style="width:410px"
								filteredValue="#{tableDataModel.filtredRequirements}"
								widgetVar="#{tableDataModel.nameDataModel}_dataTableWidget">

								<f:facet name="header">  
          							#{tableDataModel.nameDataModel}
          							<p:panelGrid>
										<f:facet name="header">
											<p:row>
												<p:column colspan="1">
													<p:commandButton id="manageChapterButton"
														icon="ui-icon-document"
														title="Manage Chapter and Document"
														update=":chapterDialog"
														actionListener="#{jJChapterBean.loadData(tableDataModel.categoryId)}"
														oncomplete="chapterDialogWidget.show()" />
												</p:column>
												<p:column colspan="1">
													<p:commandButton id="releaseRequirementButton"
														icon=".ui-icon-carat-2-n-s"
														title="Release All Requirements"
														actionListener="#{jJRequirementBean.releaseRequirement(tableDataModel.categoryId)}"
														update=":specForm" />
												</p:column>
												<p:column colspan="4">
													<p:inputText id="globalFilter" style="width:120px"
														onkeyup="#{tableDataModel.nameDataModel}_dataTableWidget.filter()" />
												</p:column>
												<p:column colspan="1">
													<p:commandButton id="newRequirementButton"
														icon="ui-icon-plus" title="New Requirement"
														actionListener="#{jJRequirementBean.newRequirement(tableDataModel.categoryId)}"
														update=":requirementDialog"
														oncomplete="requirementDialogWidget.show()" />
												</p:column>
												<p:column colspan="1">
													<!-- 													<p:commandButton id="exportButton" icon="ui-icon-clipboard" type="button" ajax="false" /> -->
													<!-- 													<p:menu overlay="true" trigger="exportButton" my="left top" -->
													<!-- 														at="left bottom"> -->
													<!-- 														<p:menuitem> -->
													<h:commandLink id="pdf"
														actionListener="#{jJChapterBean.updateCategoryId(tableDataModel.categoryId)}">
														<p:graphicImage value="/resources/images/pdf.png" />
														<p:dataExporter type="pdf" target="dataTable"
															fileName="Document"
															preProcessor="#{jJChapterBean.preProcessPDF}" />
													</h:commandLink>
													<p:tooltip for="pdf" value="export to PDF"
														showEffect="fade" hideEffect="fade" />
													<!-- 														</p:menuitem> -->
													<!-- 													</p:menu> -->
												</p:column>
											</p:row>
										</f:facet>
									</p:panelGrid>
								</f:facet>

								<p:column filterBy="name" filterStyle="display:none"
									style="width:25%">
									<f:facet name="header">
										<h:outputText value="Requirement" />
									</f:facet>
									<h:outputText value="#{requirement.name}" />
								</p:column>

								<p:column filterBy="product.name" filterStyle="display:none"
									style="width:25%">
									<f:facet name="header">
										<h:outputText value="Product" />
									</f:facet>
									<h:outputText value="#{requirement.product.name}" />
								</p:column>

								<p:column filterBy="chapter.name" filterStyle="display:none"
									style="width:25%">
									<f:facet name="header">
										<h:outputText value="Chapter" />
									</f:facet>
									<h:outputText value="#{requirement.chapter.name}" />
								</p:column>

								<p:column exportable="false" styleClass="action-column">
									<f:facet name="header">
										<h:outputText value="Actions" />
									</f:facet>
									<p:commandButton id="editButton" icon="ui-icon-pencil"
										action="#{jJRequirementBean.editRequirement()}"
										oncomplete="requirementDialogWidget.show()"
										update=":requirementDialog"
										disabled="#{jJRequirementBean.getDisabledEdit(requirement)}">
										<f:setPropertyActionListener value="#{requirement}"
											target="#{jJRequirementBean.requirement}" />
									</p:commandButton>
									<p:tooltip for="editButton" value="#{messages.label_edit}"
										showEffect="fade" hideEffect="fade" />

									<p:commandButton id="deleteButton" icon="ui-icon-trash"
										oncomplete="requirementDeleteDialogWidget.show()"
										title="#{messages.label_delete}">
										<f:setPropertyActionListener value="#{requirement}"
											target="#{jJRequirementBean.requirement}" />
									</p:commandButton>
									<p:tooltip for="deleteButton" value="#{messages.label_delete}"
										showEffect="fade" hideEffect="fade" />

								</p:column>
								<f:facet name="footer">Progress Bar
									<p:row>
										<p:progressBar id="completion" style="width:385px"
											value="#{tableDataModel.coverageProgress}"
											labelTemplate="Coverage Progress Bar {value}%"
											displayOnly="true" />
									</p:row>
									<p:row>
										<p:progressBar id="coverage" style="width:385px"
											value="#{tableDataModel.completionProgress}"
											labelTemplate="Completion Progress Bar {value}%"
											displayOnly="true" />
									</p:row>
								</f:facet>
							</p:dataTable></td>
					</ui:repeat>
				</tr>
			</table>
		</h:form>

		<p:dialog id="requirementDialog" header="#{jJRequirementBean.message}"
			modal="true" widgetVar="requirementDialogWidget" dynamic="true"
			resizable="false">
			<p:ajax event="close" update=":specForm"
				listener="#{jJRequirementBean.closeDialog}" />
			<p:outputPanel id="requirementDialogPanel">
				<h:form id="requirementDialogForm">
					<p:growl id="msg" />
					<p:panelGrid style="margin-top:10px">
						<p:row>
							<p:column>
								<p:inputText id="name"
									value="#{jJRequirementBean.requirement.name}" required="true"
									widgetVar="nameWidget" label="Requirement Name"
									requiredMessage="Requirement Name is a required value">
								</p:inputText>
								<p:message for="name" id="msgName" />
								<p:watermark for="name" value="Name *" />
							</p:column>
							<p:column>
								<h:outputText for="status" value="Status:" />
								<p:selectOneMenu id="status"
									value="#{jJRequirementBean.requirementStatus}"
									panelStyle="width:150px" effect="fade" style="width:150px"
									filter="true" filterMatchMode="startsWith"
									disabled="#{jJRequirementBean.disabledStatus}">
									<f:converter
										converterId="com.starit.janjoonweb.ui.mb.converter.JJStatusConverter" />
									<f:selectItem
										itemLabel="#{jJRequirementBean.requirementStatus.name}"
										itemValue="#{jJRequirementBean.requirementStatus}" />
									<f:selectItems
										value="#{jJRequirementBean.requirementStatusList}" var="c"
										itemLabel="#{c.name}" itemValue="#{c}" />
									<p:ajax process="@this" partialSubmit="true"
										listener="#{jJRequirementBean.handleSelectStatus()}" />
								</p:selectOneMenu>
							</p:column>
							<p:column>
								<h:outputText for="project" value="Project:" />
								<p:selectOneMenu id="project"
									value="#{jJRequirementBean.requirementProject}"
									panelStyle="width:150px" effect="fade" style="width:150px"
									filter="true" filterMatchMode="startsWith" disabled="true">
									<f:converter
										converterId="com.starit.janjoonweb.ui.mb.converter.JJProjectConverter" />
									<f:selectItem
										itemLabel="#{jJRequirementBean.requirementProject.name}"
										itemValue="#{jJRequirementBean.requirementProject}" />
									<f:selectItems
										value="#{jJRequirementBean.requirementProjectList}" var="c"
										itemLabel="#{c.name}" itemValue="#{c}" />
									<p:ajax process="@this" partialSubmit="true"
										listener="#{jJRequirementBean.handleSelectProject()}" />
								</p:selectOneMenu>
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<h:outputText for="product" value="Product:" />
								<p:selectOneMenu id="product"
									value="#{jJRequirementBean.requirementProduct}"
									panelStyle="width:150px" effect="fade" style="width:150px"
									filter="true" filterMatchMode="startsWith">
									<f:converter
										converterId="com.starit.janjoonweb.ui.mb.converter.JJProductConverter" />
									<f:selectItem
										itemLabel="#{jJRequirementBean.requirementProduct.name}"
										itemValue="#{jJRequirementBean.requirementProduct}" />
									<f:selectItems
										value="#{jJRequirementBean.requirementProductList}" var="c"
										itemLabel="#{c.name}" itemValue="#{c}" />
									<p:ajax process="@this" partialSubmit="true"
										update="version"
										listener="#{jJRequirementBean.handleSelectProduct()}" />
								</p:selectOneMenu>
							</p:column>
							<p:column>
								<h:outputText for="version" value="Version:" />
								<p:selectOneMenu id="version"
									value="#{jJRequirementBean.requirementVersion}"
									panelStyle="width:150px" effect="fade" style="width:150px"
									filter="true" filterMatchMode="startsWith"
									disabled="#{jJRequirementBean.disabledVersion}">
									<f:converter
										converterId="com.starit.janjoonweb.ui.mb.converter.JJVersionConverter" />
									<f:selectItem
										itemLabel="#{jJRequirementBean.requirementVersion.name}"
										itemValue="#{jJRequirementBean.requirementVersion}" />
									<f:selectItems
										value="#{jJRequirementBean.requirementVersionList}" var="c"
										itemLabel="#{c.name}" itemValue="#{c}" />
									<p:ajax process="@this" partialSubmit="true"
										listener="#{jJRequirementBean.handleSelectVersion()}" />
								</p:selectOneMenu>
							</p:column>
							<p:column>
								<h:outputText for="chapter" value="Chapter:" />
								<p:selectOneMenu id="chapter"
									value="#{jJRequirementBean.requirementChapter}"
									panelStyle="width:150px" effect="fade" style="width:150px"
									filter="true" filterMatchMode="startsWith">
									<f:converter
										converterId="com.starit.janjoonweb.ui.mb.converter.JJChapterConverter" />
									<f:selectItem
										itemLabel="#{jJRequirementBean.requirementChapter.name}"
										itemValue="#{jJRequirementBean.requirementChapter}" />
									<f:selectItems
										value="#{jJRequirementBean.requirementChapterList}" var="c"
										itemLabel="#{c.name}" itemValue="#{c}" />
									<p:ajax process="@this" partialSubmit="true"
										listener="#{jJRequirementBean.handleSelectChapter()}" />
								</p:selectOneMenu>
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:selectCheckboxMenu
									value="#{jJRequirementBean.selectedLowRequirementsList}"
									label="#{jJRequirementBean.lowCategoryName}" filter="true"
									filterText="Filter" filterMatchMode="contains"
									panelStyle="width:220px"
									disabled="#{jJRequirementBean.disabledLowRequirements}">
									<f:selectItems value="#{jJRequirementBean.lowRequirementsList}" />
								</p:selectCheckboxMenu>
							</p:column>
							<p:column>
								<p:selectCheckboxMenu
									value="#{jJRequirementBean.selectedMediumRequirementsList}"
									label="#{jJRequirementBean.mediumCategoryName}" filter="true"
									filterText="Filter" filterMatchMode="contains"
									panelStyle="width:220px"
									disabled="#{jJRequirementBean.disabledMediumRequirements}">
									<f:selectItems
										value="#{jJRequirementBean.mediumRequirementsList}" />
								</p:selectCheckboxMenu>
							</p:column>
							<p:column>
								<p:selectCheckboxMenu
									value="#{jJRequirementBean.selectedHighRequirementsList}"
									label="#{jJRequirementBean.highCategoryName}" filter="true"
									filterText="Filter" filterMatchMode="contains"
									panelStyle="width:220px"
									disabled="#{jJRequirementBean.disabledHighRequirements}">
									<f:selectItems
										value="#{jJRequirementBean.highRequirementsList}" />
								</p:selectCheckboxMenu>
							</p:column>
						</p:row>
						<p:row>
							<p:column colspan="3">
								<h:outputText value="Description : *" />
								<p:editor id="description" widgetVar="descriptionWidget"
									style="width:680px"
									value="#{jJRequirementBean.requirement.description}"
									required="true"
									requiredMessage="Requirement Description is a required value">
								</p:editor>
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<h:outputText value="Initiate Task: " />
								<p:selectBooleanCheckbox
									value="#{jJRequirementBean.initiateTask}"
									disabled="#{jJRequirementBean.disabledInitTask}">
									<p:ajax listener="#{jJRequirementBean.loadTask()}"
										update="outputPanel completion" />
								</p:selectBooleanCheckbox>
							</p:column>
							<p:column>
								<h:outputLabel for="workload" value="Workload: " />
								<p:outputPanel id="outputPanel">
									<p:spinner id="workload"
										value="#{jJRequirementBean.task.workloadPlanned}"
										stepFactor="1" min="0"
										disabled="#{jJRequirementBean.disabledTask}">
										<p:ajax update="workloadvalue" process="@this" />
									</p:spinner>
									<h:outputText id="workloadvalue"
										value="#{jJRequirementBean.task.workloadPlanned} h" />
								</p:outputPanel>
							</p:column>

							<p:column>
								<h:outputText value="Complete Task: " />
								<p:selectBooleanCheckbox id="completion"
									value="#{jJRequirementBean.task.completed}"
									disabled="#{jJRequirementBean.disabledTask}">
									<p:ajax listener="#{jJRequirementBean.checkCompleteTask()}" />
								</p:selectBooleanCheckbox>
							</p:column>

						</p:row>
						<p:row>
							<p:column rowspan="3" colspan="3">
								<p:inputTextarea id="note" rows="3" cols="100"
									value="#{jJRequirementBean.requirement.note}"
									autoResize="false" />
								<p:watermark for="note" value="Note" />
							</p:column>
						</p:row>
						<f:facet name="footer">
							<p:row>
								<p:column colspan="3">
									<p:commandButton value="Save"
										action="#{jJRequirementBean.save()}" process="@form"
										update="requirementDialogForm" />
								</p:column>
							</p:row>
						</f:facet>
					</p:panelGrid>
				</h:form>
			</p:outputPanel>
		</p:dialog>

		<p:dialog id="chapterDialog" header="Chapter" modal="true"
			widgetVar="chapterDialogWidget" dynamic="true" resizable="false">
			<p:ajax event="close" update=":specForm"
				listener="#{jJChapterBean.closeDialog}" />
			<p:outputPanel id="chapterDialogPanel">
				<h:form id="chapterDialogForm">
					<p:growl id="msg" />
					<p:scrollPanel style="width:760px;height:450px" mode="native">
						<p:panelGrid style="margin-top:10px">
							<p:row>
								<p:column colspan="2">
									<p:inputText id="name" value="#{jJChapterBean.chapter.name}"
										required="true" widgetVar="nameWidget" label="Chapter Name"
										requiredMessage="Chapter Name is a required value">
									</p:inputText>
									<p:message for="name" id="msgName" />
									<p:watermark for="name" value="Name *" />
								</p:column>
								<p:column colspan="2">
									<h:outputText for="parent" value="Parent Chapter:" />
									<p:selectOneMenu id="parent"
										value="#{jJChapterBean.parentChapter}"
										panelStyle="width:150px" effect="fade" style="width:160px"
										filter="true" filterMatchMode="startsWith"
										widgetVar="parentWidget">
										<f:converter
											converterId="com.starit.janjoonweb.ui.mb.converter.JJChapterConverter" />
										<f:selectItem itemLabel="#{jJChapterBean.parentChapter.name}"
											itemValue="#{jJChapterBean.parentChapter}" />
										<f:selectItems value="#{jJChapterBean.chapterList}" var="c"
											itemLabel="#{c.name}" itemValue="#{c}" />
										<p:ajax process="@this" partialSubmit="true"
											listener="#{jJChapterBean.handleSelectParentChapter()}" />
									</p:selectOneMenu>
								</p:column>
							</p:row>
							<p:row>
								<p:column colspan="2">
									<h:outputText value="Description : *" />
									<p:editor id="description" widgetVar="descriptionWidget"
										style="width:388px"
										value="#{jJChapterBean.chapter.description}" required="true"
										requiredMessage="Chapter Description is a required value">
									</p:editor>
								</p:column>
								<p:column colspan="2">
									<p:contextMenu for="chapterTreeSingle">
										<p:menuitem value="Edit"
											actionListener="#{jJChapterBean.editChapter()}"
											process="@this" icon="ui-icon-pencil"
											update="chapterDialogForm" />
										<p:menuitem value="Delete"
											actionListener="#{jJChapterBean.deleteChapter()}"
											process="@this" icon="ui-icon-close"
											update="chapterDialogForm" />
									</p:contextMenu>
									<h:outputText value="Chapters Tree" />
									<p:tree id="chapterTreeSingle"
										value="#{jJChapterBean.chapterRoot}" var="nodeChapter"
										selectionMode="single"
										selection="#{jJChapterBean.selectedChapterNode}"
										dynamic="true" cache="false">
										<p:ajax event="select"
											listener="#{jJChapterBean.onNodeSelect}" />
										<p:treeNode>
											<h:outputText value="#{nodeChapter}" />
										</p:treeNode>
									</p:tree>
								</p:column>
							</p:row>
							<f:facet name="footer">
								<p:row>
									<p:column colspan="3">
										<p:commandButton value="Save" action="#{jJChapterBean.save()}"
											process="@widgetVar(nameWidget) @widgetVar(parentWidget) @widgetVar(descriptionWidget)"
											update="chapterDialogForm" />
									</p:column>
								</p:row>
							</f:facet>
						</p:panelGrid>
						<p:panelGrid>
							<p:row>
								<p:column colspan="3">
									<p:tree id="leftTreeIncorporated"
										value="#{jJChapterBean.leftRoot}" var="nodeLeft"
										selectionMode="single"
										selection="#{jJChapterBean.selectedLeftNode}" draggable="true"
										droppable="true" dragdropScope="demo" cache="false">
										<p:ajax event="dragdrop"
											listener="#{jJChapterBean.onDragDrop}"
											update=":chapterDialogForm" />
										<p:treeNode>
											<h:outputText value="#{nodeLeft}" />
										</p:treeNode>
									</p:tree>
								</p:column>
								<p:column colspan="3">
									<p:graphicImage alt="Transfer" library="images"
										name="transfer.png" />
								</p:column>
								<p:column colspan="3">
									<p:tree id="RightTreeIncorporated"
										value="#{jJChapterBean.rightRoot}" var="nodeRight"
										selectionMode="single"
										selection="#{jJChapterBean.selectedRightNode}"
										draggable="true" droppable="true" dragdropScope="demo"
										cache="false">
										<p:ajax event="dragdrop"
											listener="#{jJChapterBean.onDragDrop}"
											update=":chapterDialogForm" />
										<p:treeNode>
											<h:outputText value="#{nodeRight}" />
										</p:treeNode>
									</p:tree>
								</p:column>
							</p:row>
						</p:panelGrid>
					</p:scrollPanel>
				</h:form>
			</p:outputPanel>
		</p:dialog>

		<p:confirmDialog id="requirementDeleteDialog"
			widgetVar="requirementDeleteDialogWidget"
			message="Are you sure you want to delete this requirement?"
			showEffect="fade" hideEffect="explode"
			header="#{messages.label_confirm_deletion}" severity="alarm">
			<p:outputPanel id="requirementDeletePanel">
				<h:form id="requirementDeleteForm">
					<p:commandButton id="deleteYesButton" value="#{messages.label_yes}"
						action="#{jJRequirementBean.deleteRequirement}" update=":specForm"
						oncomplete="requirementDeleteDialogWidget.hide()" />
					<p:commandButton id="deleteNoButton" value="#{messages.label_no}"
						onclick="requirementDeleteDialogWidget.hide()" type="button" />
				</h:form>
			</p:outputPanel>
		</p:confirmDialog>

		<p:dialog id="dialog" header="#{jJRequirementBean.message}"
			modal="true" widgetVar="dialogWidget" dynamic="true"
			resizable="false">
			<p:ajax event="close" update=":specForm"
				listener="#{jJRequirementBean.closeDialogImport}" />
			<p:layout id="importlayout" style="min-width:700px;min-height:450px;">
				<p:layoutUnit position="center">
					<p:outputPanel id="dialogPanel">
						<h:form id="dialogForm">
							<p:growl id="msg" />
							<p:panelGrid style="margin-top:10px">
								<p:row>
									<p:column>
										<h:outputText value="Project :" />
										<p:selectOneMenu id="projectSelectOneMenu"
											value="#{jJRequirementBean.importProject}"
											panelStyle="width:150px" effect="fade" style="width:160px"
											filter="true" filterMatchMode="startsWith">
											<f:converter
												converterId="com.starit.janjoonweb.ui.mb.converter.JJProjectConverter" />
											<f:selectItem
												itemLabel="#{jJRequirementBean.importProject.name}"
												itemValue="#{jJRequirementBean.importProject}" />
											<f:selectItems value="#{jJRequirementBean.importProjectList}"
												var="p" itemLabel="#{p.name}" itemValue="#{p}" />
											<p:ajax process="@this" partialSubmit="true"
												listener="#{jJRequirementBean.handelSelectImportProject}"
												update="formatDataTable" />
										</p:selectOneMenu>
									</p:column>
									<p:column>
										<h:outputText value="Product :" />
										<p:selectOneMenu id="productSelectOneMenu"
											value="#{jJRequirementBean.importProduct}"
											panelStyle="width:150px" effect="fade" style="width:160px"
											filter="true" filterMatchMode="startsWith">
											<f:converter
												converterId="com.starit.janjoonweb.ui.mb.converter.JJProductConverter" />
											<f:selectItem
												itemLabel="#{jJRequirementBean.importProduct.name}"
												itemValue="#{jJRequirementBean.importProduct}" />
											<f:selectItems value="#{jJRequirementBean.importProductList}"
												var="p" itemLabel="#{p.name}" itemValue="#{p}" />
											<p:ajax process="@this" partialSubmit="true"
												listener="#{jJRequirementBean.handelSelectImportProduct}"
												update="formatDataTable versionSelectOneMenu" />
										</p:selectOneMenu>
									</p:column>
									<p:column>
										<h:outputText value="Version :" />
										<p:selectOneMenu id="versionSelectOneMenu"
											value="#{jJRequirementBean.importVersion}"
											panelStyle="width:150px" effect="fade" style="width:160px"
											filter="true" filterMatchMode="startsWith"
											disabled="#{jJRequirementBean.disableImportVersion}">

											<f:converter
												converterId="com.starit.janjoonweb.ui.mb.converter.JJVersionConverter" />

											<f:selectItem
												itemLabel="#{jJRequirementBean.importVersion.name}"
												itemValue="#{jJRequirementBean.importVersion}" />
											<f:selectItems value="#{jJRequirementBean.importVersionList}"
												var="v" itemLabel="#{v.name}" itemValue="#{v}" />
											<p:ajax process="@this" partialSubmit="true"
												listener="#{jJRequirementBean.handelSelectImportVersion}"
												update="formatDataTable" />
										</p:selectOneMenu>
									</p:column>
								</p:row>
								<p:row>
									<p:column>
										<h:outputText value="Category :" />
										<p:selectOneMenu id="categorySelectOneMenu"
											value="#{jJRequirementBean.importCategory}"
											panelStyle="width:150px" effect="fade" style="width:160px"
											filter="true" filterMatchMode="startsWith">
											<f:converter
												converterId="com.starit.janjoonweb.ui.mb.converter.JJCategoryConverter" />
											<f:selectItem
												itemLabel="#{jJRequirementBean.importCategory.name}"
												itemValue="#{jJRequirementBean.importCategory}" />
											<f:selectItems
												value="#{jJRequirementBean.importCategoryList}" var="p"
												itemLabel="#{p.name}" itemValue="#{p}" />
											<p:ajax process="@this" partialSubmit="true"
												listener="#{jJRequirementBean.handelSelectImportCategory}"
												update="formatDataTable" />
										</p:selectOneMenu>
									</p:column>
									<p:column>
										<h:outputText value="Status :" />
										<p:selectOneMenu id="statusSelectOneMenu"
											value="#{jJRequirementBean.importStatus}"
											panelStyle="width:150px" effect="fade" style="width:160px"
											filter="true" filterMatchMode="startsWith">
											<f:converter
												converterId="com.starit.janjoonweb.ui.mb.converter.JJStatusConverter" />
											<f:selectItem
												itemLabel="#{jJRequirementBean.importStatus.name}"
												itemValue="#{jJRequirementBean.importStatus}" />
											<f:selectItems value="#{jJRequirementBean.importStatusList}"
												var="p" itemLabel="#{p.name}" itemValue="#{p}" />
											<p:ajax process="@this" partialSubmit="true"
												listener="#{jJRequirementBean.handelSelectImportStatus}"
												update="formatDataTable" />
										</p:selectOneMenu>
									</p:column>

								</p:row>
							</p:panelGrid>
							<p:dataTable id="formatDataTable" var="format" editable="true"
								value="#{jJRequirementBean.formatDataModel}" paginator="true"
								rows="10" selection="#{jJRequirementBean.selectedFormats}">


								<f:facet name="header">  
            						Checkbox Based Selection  
        						</f:facet>

								<p:column selectionMode="multiple" style="width:2%" />

								<p:column headerText="Requirement" style="width:30%">  
            						#{format.requirement.name}  
        						</p:column>

								<p:column headerText="Copy Testcase" style="width:25%">
									<p:cellEditor>
										<f:facet name="output">
											<h:outputText value="#{format.copyTestcase}" />
										</f:facet>
										<f:facet name="input">
											<p:selectBooleanCheckbox value="#{format.copyTestcase}" />
										</f:facet>
									</p:cellEditor>
								</p:column>


								<p:column headerText="Copy Chapter" style="width:25%">
									<p:cellEditor>
										<f:facet name="output">
											<h:outputText value="#{format.copyChapter}" />
										</f:facet>
										<f:facet name="input">
											<p:selectBooleanCheckbox value="#{format.copyChapter}">
												<p:ajax process="@this"
													listener="#{jJRequirementBean.copyChapter}" />
											</p:selectBooleanCheckbox>
										</f:facet>
									</p:cellEditor>
								</p:column>
								<p:column style="width:18%">
									<p:rowEditor />
								</p:column>

							</p:dataTable>

							<p:commandButton value="Import"
								action="#{jJRequirementBean.importRequirement()}" />
						</h:form>
					</p:outputPanel>
				</p:layoutUnit>
			</p:layout>
		</p:dialog>
	</ui:define>
</ui:composition>
</html>
