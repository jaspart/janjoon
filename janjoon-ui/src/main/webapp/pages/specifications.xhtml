<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="../templates/layout.xhtml">
	<link type="text/css" rel="stylesheet"
		href="#{facesContext.externalContext.requestContextPath}/syntaxhighlighter/syntaxhighlighter.css" />
	<link type="text/css" rel="stylesheet"
		href="/syntaxhighlighter/standard.css" />
	<ui:define name="content">
		<!--<center>-->
		<br />

		<h:form prependId="false" id="dataForm">

			<p:column style="width:25%">
				<!--  <p:button value="Business" icon="ui-icon-star" />-->
				<p:commandButton value="Business"
					actionListener="#{jJRequirementBean.findAllJJRequirements}" id="bBusiness"
					update="dataForm,data,leftTable" />
				<p:button value="Functional" icon="ui-icon-star" disabled="true" />
				<p:button value="Architecture" icon="ui-icon-star" />
				<p:button value="Security" icon="ui-icon-star" />
				<p:button value="Technical" icon="ui-icon-star" disabled="true" />
			</p:column>

			<p:panel id="data" toggleable="true" toggleSpeed="250">


				<p:dataTable id="leftTable"
					value="#{jJRequirementBean.allJJRequirements}" var="JJRequirement_"
					resizableColumns="false">

					<f:facet name="header">
						<p:panelGrid style="margin-top:10px">
							<f:facet name="header">
								<p:row>
									<p:column colspan="2">
										<p:commandButton id="reqBusiChapterButton"
											icon="ui-icon-clipboard" type="button" />
									</p:column>
									<p:column colspan="5">
										<!--onkeyup="reqBusinessTable.filter()"  -->
										<p:inputText id="globalFilter" style="width:150px" />
										<p:watermark for="globalFilter" value="Search..." />
									</p:column>
									<p:column colspan="2">
										<p:commandButton id="createButton" icon="ui-icon-plus"
											title="Create Requirement" oncomplete="newRequirement.show()" actionListener="#{jJRequirementBean.createNewBusinessJJRequirement}" />
									</p:column>
									<p:column>
										<p:commandButton id="dynaButton" icon="ui-icon-document"
											type="button" />
										<p:menu overlay="true" trigger="dynaButton" my="left top"
											at="left bottom">
											<p:menuitem>
												<h:commandLink>
													<p:graphicImage value="/resources/images/pdf.png" />
													<h:outputLabel value="export in pdf" />
													<p:dataExporter type="pdf" target="tbl"
														fileName="requirements" />
												</h:commandLink>
											</p:menuitem>
											<p:menuitem>
												<h:commandLink>
													<p:graphicImage value="/resources/images/csv.png" />
													<h:outputLabel value="export in csv" />
													<p:dataExporter type="pdf" target="tbl"
														fileName="requirements" />
												</h:commandLink>
											</p:menuitem>
											<p:menuitem>
												<h:commandLink>
													<p:graphicImage value="/resources/images/xml.png" />
													<h:outputLabel value="export in xml" />
													<p:dataExporter type="pdf" target="tbl"
														fileName="requirements" />
												</h:commandLink>
											</p:menuitem>
											<p:menuitem>
												<h:commandLink>
													<p:graphicImage value="/resources/images/excel.png" />
													<h:outputLabel value="export in xls" />
													<p:dataExporter type="pdf" target="tbl"
														fileName="requirements" />
												</h:commandLink>
											</p:menuitem>
										</p:menu>
									</p:column>
								</p:row>
							</f:facet>
						</p:panelGrid>
					</f:facet>
					
					<p:column headerText="Name">
						<h:outputText value="#{JJRequirement_['name']}" />
					</p:column>

					<p:column headerText="Description">
						<h:outputText value="#{JJRequirement_.description}" />
					</p:column>

					<p:column headerText="Ceation Date">
						<h:outputText value="#{JJRequirement_.creationDate}" />
					</p:column>
					 
					<f:facet name="footer">In total there are X Spec Req.</f:facet>
				</p:dataTable>

			</p:panel>
			


		</h:form>
		
		<h:form id="dialogForm">
		
		<p:dialog header="New Requirement" widgetVar="newRequirement" maximizable="true" minimizable="true" showEffect="clip" hideEffect="fold">
					    <h:panelGrid columns="2" cellpadding="5">  
            				<h:outputLabel for="name" value="Name:" />  
            				<p:inputText  id="name" value="#{jJRequirementBean.myJJRequirement.name}" minlength="1" maxlength="25" label="Name" />  
              
           					<h:outputLabel for="description" value="Description:" />  
            				<p:inputText id="description" value="#{jJRequirementBean.myJJRequirement.description}" minlength="1" maxlength="250" label="Description" />  

<!--                   			<h:outputLabel for="creationDate" value="Creation Date:" />  -->
<!--    							<p:calendar id="creationDate" value="#{jJRequirementBean.myJJRequirement.creationDate}" pattern="dd/MM/yyyy"  showOn="button" />  -->
            		
            				<f:facet name="footer">  
        						<p:row>  
            						<p:column>  
                			  			<p:commandButton value="Reset" type="reset"/> 
            						</p:column>  
            						<p:column>  
           								<h:commandButton value="#{messages.label_save}" action="#{jJRequirementBean.myPersist}" update="dataForm,data,leftTable"/> 
            						</p:column>   
        						</p:row>  
    						</f:facet> 
        				</h:panelGrid>  
				</p:dialog>
		
		</h:form>

	</ui:define>
</ui:composition>
</html>