<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="../templates/layout.xhtml">
	<script src="js/nicEdit.js" type="text/javascript"></script>
	<script type="text/javascript">
		bkLib.onDomLoaded(function() {
			new nicEditor().panelInstance('area1');
			new nicEditor({
				fullPanel : true
			}).panelInstance('areaCreate');
			new nicEditor({
				fullPanel : true
			}).panelInstance('areaEdit');
			new nicEditor({
				iconsPath : 'js/nicEditorIcons.gif'
			}).panelInstance('area3');
			new nicEditor({
				buttonList : [ 'fontSize', 'bold', 'italic', 'underline',
						'strikeThrough', 'subscript', 'superscript', 'html',
						'image' ]
			}).panelInstance('area4');
			new nicEditor({
				maxHeight : 100
			}).panelInstance('area5');
		});
	</script>

	<ui:define name="content">

		<h:form id="dataForm">

			<p:growl id="messages" />

			<p:contextMenu id="leftContextMenu" for="leftTable">
				<p:menuitem id="editLeft" value="#{messages.label_edit}"
					icon="ui-icon-pencil"
					actionListener="#{jJRequirementBean.editJJRequirement(1)}"
					update="myEditDialog" oncomplete="editJJRequirement.show()"
					disabled="#{jJRequirementBean.disabled}" />
				<p:menuitem id="deleteLeft" value="#{messages.label_delete}"
					actionListener="#{jJRequirementBean.deleteJJRequirement(1)}"
					icon="ui-icon-trash" oncomplete="deleteJJRequirement.show()" />
				<p:menuitem id="discardLeft" value="Discard"
					actionListener="#{jJRequirementBean.updateMessageDiscard(1)}"
					icon="ui-icon-close" update="myDiscardDialog"
					oncomplete="discardJJRequirement.show()" />
				<p:menuitem id="selectLeft" value="Select"
					actionListener="#{jJRequirementBean.selectRequirement(1)}"
					icon="ui-icon-check" update=":dataForm" />
			</p:contextMenu>
			<p:contextMenu id="middleContextMenu" for="middleTable">
				<p:menuitem id="editMiddle" value="Edit" icon="ui-icon-pencil"
					actionListener="#{jJRequirementBean.editJJRequirement(2)}"
					update="myEditDialog" oncomplete="editJJRequirement.show()"
					disabled="#{jJRequirementBean.disabled}" />
				<p:menuitem id="deleteMiddle" value="#{messages.label_delete}"
					actionListener="#{jJRequirementBean.deleteJJRequirement(2)}"
					icon="ui-icon-trash" oncomplete="deleteJJRequirement.show()" />
				<p:menuitem id="discardMiddle" value="Discard"
					actionListener="#{jJRequirementBean.updateMessageDiscard(2)}"
					icon="ui-icon-close" update="myDiscardDialog"
					oncomplete="discardJJRequirement.show()" />
				<p:menuitem id="selectMiddle" value="Select"
					actionListener="#{jJRequirementBean.selectRequirement(2)}"
					icon="ui-icon-check" update=":dataForm" />
			</p:contextMenu>
			<p:contextMenu id="rightContextMenu" for="rightTable">
				<p:menuitem id="editRight" value="Edit" icon="ui-icon-pencil"
					actionListener="#{jJRequirementBean.editJJRequirement(3)}"
					update="myEditDialog" oncomplete="editJJRequirement.show()"
					disabled="#{jJRequirementBean.disabled}" />
				<p:menuitem id="deleteRight" value="#{messages.label_delete}"
					actionListener="#{jJRequirementBean.deleteJJRequirement(3)}"
					icon="ui-icon-trash" oncomplete="deleteJJRequirement.show()" />
				<p:menuitem id="discardRight" value="Discard"
					actionListener="#{jJRequirementBean.updateMessageDiscard(3)}"
					icon="ui-icon-close" update="myDiscardDialog"
					oncomplete="discardJJRequirement.show()" />
				<p:menuitem id="selectRight" value="Select"
					actionListener="#{jJRequirementBean.selectRequirement(3)}"
					icon="ui-icon-check" update=":dataForm" />
				<p:menuitem id="isCompletedRight" value="Completed"
					actionListener="#{jJRequirementBean.completeRequirement()}"
					icon="ui-icon-arrowthick-1-e" update=":dataForm" />
			</p:contextMenu>
			<table>
				<tr>
					<p:column>
						<p:commandButton value="Business" icon="ui-icon-star"
							actionListener="#{jJRequirementBean.findAllJJRequirementsWithCategory(1)}"
							id="businessButton" update="leftTable" />
						<p:commandButton value="Functional" icon="ui-icon-star"
							actionListener="#{jJRequirementBean.findAllJJRequirementsWithCategory(2)}"
							id="functionalButton" update="middleTable" />
						<p:button value="Architecture" icon="ui-icon-star" disabled="true" />
						<p:button value="Security" icon="ui-icon-star" disabled="true" />
						<p:commandButton value="Technical" icon="ui-icon-star"
							actionListener="#{jJRequirementBean.findAllJJRequirementsWithCategory(3)}"
							id="technicalButton" update="rightTable" />
					</p:column>
				</tr>
				<tr></tr>
				<tr>
					<td><p:dataTable id="leftTable"
							value="#{jJRequirementBean.myBusinessJJRequirements}"
							var="Requirement" resizableColumns="true" scrollable="true"
							scrollHeight="450" style="width:410px"
							rowKey="#{Requirement.name}"
							selection="#{jJRequirementBean.mySelectedBusinessJJRequirement}"
							selectionMode="single">
							<p:ajax event="rowSelect"
								listener="#{jJRequirementBean.onRowSelect}"
								update=":dataForm:leftContextMenu :dataForm:messages" />
							<f:facet name="header">
								<p:panelGrid>
									<f:facet name="header">
										<p:row>
											<p:column colspan="1">
												<p:commandButton id="createBusinessChapter"
													icon="ui-icon-clipboard" title="Add Business Chapter"
													actionListener="#{jJChapterBean.createJJChapter(1,jJCategoryBean)}"
													oncomplete="createJJChapter.show()" />

											</p:column>
											<p:column colspan="1">
												<p:commandButton id="releaseButton"
													icon=".ui-icon-carat-2-n-s"
													title="Release All Business Requirements"
													actionListener="#{jJRequirementBean.updateMessageRelease(1)}"
													update=":dataForm:myReleaseDialog"
													oncomplete="releaseJJRequirement.show()" />
											</p:column>
											<p:column colspan="4">
												<p:inputText id="globalFilter" style="width:150px" />
												<!-- 												<p:watermark for="globalFilter" value="Search..." /> -->
											</p:column>
											<p:column colspan="1">
												<p:commandButton id="createBusinessRequirement"
													icon="ui-icon-plus" title="Add Business Requirement"
													actionListener="#{jJRequirementBean.createJJRequirement(1)}"
													oncomplete="createJJRequirement.show()" />
											</p:column>
											<p:column colspan="1">
												<p:commandButton id="dynaButton" icon="ui-icon-document"
													type="button" />
												<!-- 												<p:menu overlay="true" trigger="dynaButton" my="left top" -->
												<!-- 													at="left bottom"> -->
												<!-- 													<p:menuitem> -->
												<!-- 														<h:commandLink> -->
												<!-- 															<p:graphicImage value="/resources/images/pdf.png" /> -->
												<!-- 															<h:outputLabel value="export in pdf" /> -->
												<!-- 															<p:dataExporter type="pdf" target="tbl" -->
												<!-- 																fileName="requirements" /> -->
												<!-- 														</h:commandLink> -->
												<!-- 													</p:menuitem> -->
												<!-- 													<p:menuitem> -->
												<!-- 														<h:commandLink> -->
												<!-- 															<p:graphicImage value="/resources/images/csv.png" /> -->
												<!-- 															<h:outputLabel value="export in csv" /> -->
												<!-- 															<p:dataExporter type="pdf" target="tbl" -->
												<!-- 																fileName="requirements" /> -->
												<!-- 														</h:commandLink> -->
												<!-- 													</p:menuitem> -->
												<!-- 													<p:menuitem> -->
												<!-- 														<h:commandLink> -->
												<!-- 															<p:graphicImage value="/resources/images/xml.png" /> -->
												<!-- 															<h:outputLabel value="export in xml" /> -->
												<!-- 															<p:dataExporter type="pdf" target="tbl" -->
												<!-- 																fileName="requirements" /> -->
												<!-- 														</h:commandLink> -->
												<!-- 													</p:menuitem> -->
												<!-- 													<p:menuitem> -->
												<!-- 														<h:commandLink> -->
												<!-- 															<p:graphicImage value="/resources/images/excel.png" /> -->
												<!-- 															<h:outputLabel value="export in xls" /> -->
												<!-- 															<p:dataExporter type="pdf" target="tbl" -->
												<!-- 																fileName="requirements" /> -->
												<!-- 														</h:commandLink> -->
												<!-- 													</p:menuitem> -->
												<!-- 												</p:menu> -->
											</p:column>
										</p:row>
									</f:facet>
								</p:panelGrid>
							</f:facet>

							<p:column headerText="Requirement">
								<h:outputText value="#{Requirement.name}" />
							</p:column>

							<p:column headerText="Project">
								<h:outputText value="#{Requirement.project.name}" />
							</p:column>

							<p:column headerText="Chapter">
								<h:outputText value="#{Requirement.chapter.name}" />
							</p:column>

							<f:facet name="footer">Business Requirements
							 <p:progressBar widgetVar="pbLeft" style="width:385px"
									value="#{jJRequirementBean.progressLeft}"
									labelTemplate="{value}%" />
								<p:progressBar widgetVar="coverageLeft" style="width:385px"
									value="#{jJRequirementBean.coverageProgressLeft}"
									labelTemplate="{value}%" />
							</f:facet>
						</p:dataTable></td>
					<td><p:dataTable id="middleTable"
							value="#{jJRequirementBean.myFunctionalJJRequirements}"
							var="Requirement" resizableColumns="true" scrollable="true"
							scrollHeight="450" style="width:410px"
							rowKey="#{Requirement.name}"
							selection="#{jJRequirementBean.mySelectedFunctionalJJRequirement}"
							selectionMode="single">

							<p:ajax event="rowSelect"
								listener="#{jJRequirementBean.onRowSelect}"
								update=":dataForm:middleContextMenu :dataForm:messages" />

							<f:facet name="header">
								<p:panelGrid>
									<f:facet name="header">
										<p:row>
											<p:column colspan="1">
												<p:commandButton id="reqBusiChapterButton"
													icon="ui-icon-clipboard" type="button" />
											</p:column>
											<p:column colspan="1">
												<p:commandButton id="releaseButton"
													icon=".ui-icon-carat-2-n-s"
													title="Release All Functional Requirements"
													actionListener="#{jJRequirementBean.updateMessageRelease(2)}"
													update=":dataForm:myReleaseDialog"
													oncomplete="releaseJJRequirement.show()" />
											</p:column>
											<p:column colspan="4">
												<p:inputText id="globalFilter" style="width:150px" />
												<!-- 												<p:watermark for="globalFilter" value="Search..." /> -->
											</p:column>
											<p:column colspan="1">
												<p:commandButton id="createButton" icon="ui-icon-plus"
													title="Add Functional Requirement"
													actionListener="#{jJRequirementBean.createJJRequirement(2)}"
													oncomplete="createJJRequirement.show()" />
											</p:column>
											<p:column colspan="1">
												<p:commandButton id="dynaButton" icon="ui-icon-document"
													type="button" />
												<!-- 												<p:menu overlay="true" trigger="dynaButton" my="left top" -->
												<!-- 													at="left bottom"> -->
												<!-- 													<p:menuitem> -->
												<!-- 														<h:commandLink> -->
												<!-- 															<p:graphicImage value="/resources/images/pdf.png" /> -->
												<!-- 															<h:outputLabel value="export in pdf" /> -->
												<!-- 															<p:dataExporter type="pdf" target="tbl" -->
												<!-- 																fileName="requirements" /> -->
												<!-- 														</h:commandLink> -->
												<!-- 													</p:menuitem> -->
												<!-- 													<p:menuitem> -->
												<!-- 														<h:commandLink> -->
												<!-- 															<p:graphicImage value="/resources/images/csv.png" /> -->
												<!-- 															<h:outputLabel value="export in csv" /> -->
												<!-- 															<p:dataExporter type="pdf" target="tbl" -->
												<!-- 																fileName="requirements" /> -->
												<!-- 														</h:commandLink> -->
												<!-- 													</p:menuitem> -->
												<!-- 													<p:menuitem> -->
												<!-- 														<h:commandLink> -->
												<!-- 															<p:graphicImage value="/resources/images/xml.png" /> -->
												<!-- 															<h:outputLabel value="export in xml" /> -->
												<!-- 															<p:dataExporter type="pdf" target="tbl" -->
												<!-- 																fileName="requirements" /> -->
												<!-- 														</h:commandLink> -->
												<!-- 													</p:menuitem> -->
												<!-- 													<p:menuitem> -->
												<!-- 														<h:commandLink> -->
												<!-- 															<p:graphicImage value="/resources/images/excel.png" /> -->
												<!-- 															<h:outputLabel value="export in xls" /> -->
												<!-- 															<p:dataExporter type="pdf" target="tbl" -->
												<!-- 																fileName="requirements" /> -->
												<!-- 														</h:commandLink> -->
												<!-- 													</p:menuitem> -->
												<!-- 												</p:menu> -->
											</p:column>
										</p:row>
									</f:facet>
								</p:panelGrid>
							</f:facet>

							<p:column headerText="Requirement">
								<h:outputText value="#{Requirement['name']}" />
							</p:column>

							<p:column headerText="Project">
								<h:outputText value="#{Requirement.project.name}" />
							</p:column>

							<p:column headerText="Chapter">
								<h:outputText value="#{Requirement.chapter.name}" />
							</p:column>

							<f:facet name="footer">Functional Requirements
							<p:progressBar widgetVar="pbMiddle" style="width:385px"
									value="#{jJRequirementBean.progressMiddle}"
									labelTemplate="{value}%" />
								<p:progressBar widgetVar="coverageMiddle" style="width:385px"
									value="#{jJRequirementBean.coverageProgressMiddle}"
									labelTemplate="{value}%" />
							</f:facet>
						</p:dataTable></td>
					<td><p:dataTable id="rightTable"
							value="#{jJRequirementBean.myTechnicalJJRequirements}"
							var="Requirement" resizableColumns="true" scrollable="true"
							scrollHeight="450" style="width:410px"
							rowKey="#{Requirement.name}"
							selection="#{jJRequirementBean.mySelectedTechnicalJJRequirement}"
							selectionMode="single">

							<p:ajax event="rowSelect"
								listener="#{jJRequirementBean.onRowSelect}"
								update=":dataForm:rightContextMenu :dataForm:messages" />

							<f:facet name="header">
								<p:panelGrid>
									<f:facet name="header">
										<p:row>
											<p:column colspan="1">
												<p:commandButton id="reqBusiChapterButton"
													icon="ui-icon-clipboard" type="button" />
											</p:column>
											<p:column colspan="1">
												<p:commandButton id="releaseButton"
													icon=".ui-icon-carat-2-n-s"
													title="Release All Technical Requirements"
													actionListener="#{jJRequirementBean.updateMessageRelease(3)}"
													update=":dataForm:myReleaseDialog"
													oncomplete="releaseJJRequirement.show()" />
											</p:column>
											<p:column colspan="4">

												<p:inputText id="globalFilter" style="width:150px" />
												<!-- 												<p:watermark for="globalFilter" value="Search..." /> -->
											</p:column>
											<p:column colspan="1">
												<p:commandButton id="createButton" icon="ui-icon-plus"
													title="Add Technical Requirement"
													actionListener="#{jJRequirementBean.createJJRequirement(3)}"
													oncomplete="createJJRequirement.show()" />
											</p:column>
											<p:column colspan="1">
												<p:commandButton id="dynaButton" icon="ui-icon-document"
													type="button" />
												<!-- 												<p:menu overlay="true" trigger="dynaButton" my="left top" -->
												<!-- 													at="left bottom"> -->
												<!-- 													<p:menuitem> -->
												<!-- 														<h:commandLink> -->
												<!-- 															<p:graphicImage value="/resources/images/pdf.png" /> -->
												<!-- 															<h:outputLabel value="export in pdf" /> -->
												<!-- 															<p:dataExporter type="pdf" target="tbl" -->
												<!-- 																fileName="requirements" /> -->
												<!-- 														</h:commandLink> -->
												<!-- 													</p:menuitem> -->
												<!-- 													<p:menuitem> -->
												<!-- 														<h:commandLink> -->
												<!-- 															<p:graphicImage value="/resources/images/csv.png" /> -->
												<!-- 															<h:outputLabel value="export in csv" /> -->
												<!-- 															<p:dataExporter type="pdf" target="tbl" -->
												<!-- 																fileName="requirements" /> -->
												<!-- 														</h:commandLink> -->
												<!-- 													</p:menuitem> -->
												<!-- 													<p:menuitem> -->
												<!-- 														<h:commandLink> -->
												<!-- 															<p:graphicImage value="/resources/images/xml.png" /> -->
												<!-- 															<h:outputLabel value="export in xml" /> -->
												<!-- 															<p:dataExporter type="pdf" target="tbl" -->
												<!-- 																fileName="requirements" /> -->
												<!-- 														</h:commandLink> -->
												<!-- 													</p:menuitem> -->
												<!-- 													<p:menuitem> -->
												<!-- 														<h:commandLink> -->
												<!-- 															<p:graphicImage value="/resources/images/excel.png" /> -->
												<!-- 															<h:outputLabel value="export in xls" /> -->
												<!-- 															<p:dataExporter type="pdf" target="tbl" -->
												<!-- 																fileName="requirements" /> -->
												<!-- 														</h:commandLink> -->
												<!-- 													</p:menuitem> -->
												<!-- 												</p:menu> -->
											</p:column>
										</p:row>
									</f:facet>
								</p:panelGrid>
							</f:facet>

							<p:column headerText="Requirement">
								<h:outputText value="#{Requirement['name']}" />
							</p:column>

							<p:column headerText="Project">
								<h:outputText value="#{Requirement.project.name}" />
							</p:column>

							<p:column headerText="Chapter">
								<h:outputText value="#{Requirement.chapter.name}" />
							</p:column>

							<f:facet name="footer">Technical Requirements
							 <p:progressBar widgetVar="pbRight" style="width:385px"
									value="#{jJRequirementBean.progressRight}"
									labelTemplate="{value}%" />
								<p:progressBar widgetVar="coverageRight" style="width:385px"
									value="#{jJRequirementBean.coverageProgressRight}"
									labelTemplate="{value}%" />
							</f:facet>

						</p:dataTable></td>
				</tr>
			</table>
			<p:dialog id="myEditDialog" header="Edit JJRequirement"
				widgetVar="editJJRequirement" maximizable="false"
				minimizable="false" dynamic="true" showEffect="fade"
				hideEffect="fade">

				<h:panelGrid columns="1" cellpadding="3">

					<h:panelGrid columns="3" cellpadding="3">

						<h:panelGrid>
							<h:panelGrid>
								<p:autoComplete id="chapterEdit"
									value="#{jJRequirementBean.myEditedJJRequirement.chapter}"
									completeMethod="#{jJRequirementBean.completeChapter}"
									var="chapter" itemLabel="#{chapter.name}"
									itemValue="#{chapter}" multiple="false" dropdown="true"
									required="false">
									<f:converter
										converterId="com.funder.janjoonweb.ui.mb.converter.JJChapterConverter" />
									<p:column style="text-align:center">  
           							 #{chapter.name}<!-- - #{chapter.creationDate} -->
									</p:column>
								</p:autoComplete>
								<p:watermark for="chapterEdit" value="Chapter" />
							</h:panelGrid>

							<p:autoComplete id="productEdit"
								value="#{jJRequirementBean.myEditedJJRequirement.product}"
								completeMethod="#{jJRequirementBean.completeProduct}"
								var="product" itemLabel="#{product.name}" itemValue="#{product}"
								multiple="false" dropdown="true" required="false">
								<f:converter
									converterId="com.funder.janjoonweb.ui.mb.converter.JJProductConverter" />
								<p:column style="text-align:center">  
           							 #{product.name}<!-- - #{product.creationDate} -->
								</p:column>
							</p:autoComplete>
							<p:watermark for="productEdit" value="Product" />
						</h:panelGrid>

						<h:panelGrid>
							<p:autoComplete id="projectEdit"
								value="#{jJRequirementBean.myEditedJJRequirement.project}"
								completeMethod="#{jJRequirementBean.completeProject}"
								var="project" itemLabel="#{project.name}" itemValue="#{project}"
								multiple="false" dropdown="true" required="false">
								<f:converter
									converterId="com.funder.janjoonweb.ui.mb.converter.JJProjectConverter" />
								<p:column style="text-align:center">  
           							 #{project.name} - #{project.creationDate}
        						</p:column>
							</p:autoComplete>
							<p:watermark for="projectEdit" value="Project" />
						</h:panelGrid>

					</h:panelGrid>
					<h:panelGrid columns="1" cellpadding="3">

						<h:panelGrid columns="1" cellpadding="3">
							<p:inputText id="nameEdit" cols="60"
								value="#{jJRequirementBean.myEditedJJRequirement.name}"
								required="true">
								<f:validateLength minimum="1" maximum="25" />
								<p:ajax update="msgNameEdit" event="keyup" />
							</p:inputText>
							<p:message for="nameEdit" id="msgNameEdit" display="icon" />
							<p:watermark for="nameEdit" value="Name" />
						</h:panelGrid>

						<h:panelGrid columns="1" cellpadding="3">
							<!--p:inputTextarea id="descriptionEdit" rows="6" cols="70"
								value="#{jJRequirementBean.myEditedJJRequirement.description}"
								required="true">
								<f:validateLength minimum="1" maximum="250" />
								<p:ajax update="msgDescriptionEdit" event="keyup" />
							</p:inputTextarea>
							<p:message for="descriptionEdit" id="msgDescriptionEdit"
								display="icon" />
							<p:watermark for="descriptionEdit" value="Description" /-->
							<!-- EDITOR WYSIWYG -->
							<p:editor id="descriptionEdit" rows="4" cols="70"
								widgetVar="editorEdit"
								value="#{jJRequirementBean.myEditedJJRequirement.description}"
								required="true">
								<f:validateLength minimum="1" maximum="250" />
								<!--p:ajax update="msgDescriptionEdit" event="keyup" /-->
							</p:editor>
							<p:message for="descriptionEdit" id="msgDescriptionEdit"
								display="icon" />
							<p:watermark for="descriptionEdit" value="Description" />
						</h:panelGrid>

						<h:panelGrid columns="1" cellpadding="3">
							<p:inputTextarea id="noteEdit" rows="2" cols="70"
								value="#{jJRequirementBean.myEditedJJRequirement.note}"
								required="false">
								<f:validateLength minimum="0" maximum="250" />
								<p:ajax update="msgNoteEdit" event="keyup" />
							</p:inputTextarea>
							<p:message for="noteEdit" id="msgNoteEdit" display="icon" />
							<p:watermark for="noteEdit" value="Note" />
						</h:panelGrid>

						<h:panelGrid columns="6" cellpadding="2">
							<h:outputText value="Business: " />
							<p:selectManyCheckbox id="businessReqListEdit"
								value="#{jJRequirementBean.selectedBusinessJJRequirementList}"
								layout="pageDirection">
								<f:selectItems
									value="#{jJRequirementBean.myBusinessJJRequirementList}" />
							</p:selectManyCheckbox>
							<h:outputText value="Functional: " />
							<p:selectManyCheckbox id="functionalReqListEdit"
								value="#{jJRequirementBean.selectedFunctionalJJRequirementList}"
								layout="pageDirection">
								<f:selectItems
									value="#{jJRequirementBean.myFunctionalJJRequirementList}" />
							</p:selectManyCheckbox>
							<h:outputText value="Technical: " />
							<p:selectManyCheckbox id="technicalReqListEdit"
								value="#{jJRequirementBean.selectedTechnicalJJRequirementList}"
								layout="pageDirection">
								<f:selectItems
									value="#{jJRequirementBean.myTechnicalJJRequirementList}" />
							</p:selectManyCheckbox>
						</h:panelGrid>
					</h:panelGrid>
					<f:facet name="footer">
						<p:row>
							<p:column>
								<p:commandButton value="Reset" type="reset" />
							</p:column>
							<p:column>
								<h:commandButton value="#{messages.label_save}"
									action="#{jJRequirementBean.persistJJRequirement(2)}"
									update=":dataForm" />
							</p:column>
						</p:row>
					</f:facet>
				</h:panelGrid>
			</p:dialog>
			<p:confirmDialog id="myDeleteDialog"
				message="#{messages.label_delete_record}"
				header="#{messages.label_confirm_deletion}" severity="alert"
				widgetVar="deleteJJRequirement">
				<p:commandButton id="confirmDelete" value="#{messages.label_yes}"
					oncomplete="deleteJJRequirement.hide()" update=":dataForm"
					process="@this"
					actionListener="#{jJRequirementBean.persistJJRequirement(3)}" />
				<p:commandButton id="declineDelete" value="#{messages.label_no}"
					onclick="deleteJJRequirement.hide()" type="button" />
			</p:confirmDialog>

			<p:confirmDialog id="myDiscardDialog"
				message="#{jJRequirementBean.messageDiscard}"
				header="Confirm discard" severity="alert"
				widgetVar="discardJJRequirement">
				<p:commandButton id="confirmDiscard" value="#{messages.label_yes}"
					oncomplete="discardJJRequirement.hide()" update=":dataForm"
					process="@this"
					actionListener="#{jJRequirementBean.discardJJRequirement}" />
				<p:commandButton id="declineDiscard" value="#{messages.label_no}"
					onclick="discardJJRequirement.hide()" type="button" />
			</p:confirmDialog>

			<p:confirmDialog id="myReleaseDialog"
				message="#{jJRequirementBean.messageRelease}"
				header="Confirm release" severity="alert"
				widgetVar="releaseJJRequirement">
				<p:commandButton id="confirmRelease" value="#{messages.label_yes}"
					oncomplete="releaseJJRequirement.hide()" update=":dataForm"
					process="@this"
					actionListener="#{jJRequirementBean.releaseJJRequirement}" />
				<p:commandButton id="declineRelease" value="#{messages.label_no}"
					onclick="releaseJJRequirement.hide()" type="button" />
			</p:confirmDialog>

			<p:dialog id="myCreateDialog" header="Create JJRequirement"
				widgetVar="createJJRequirement" maximizable="false"
				minimizable="false" showEffect="fade" hideEffect="fade"
				dynamic="true">

				<h:panelGrid columns="1" cellpadding="3">

					<h:panelGrid columns="3" cellpadding="3">

						<h:panelGrid>
							<p:autoComplete id="chapter"
								value="#{jJRequirementBean.myJJRequirement.chapter}"
								completeMethod="#{jJRequirementBean.completeChapter}"
								var="chapter" itemLabel="#{chapter.name}" itemValue="#{chapter}"
								multiple="false" dropdown="true" required="false">
								<f:converter
									converterId="com.funder.janjoonweb.ui.mb.converter.JJChapterConverter" />
								<p:column style="text-align:center">  
           							 #{chapter.name}<!-- - #{chapter.creationDate} -->
								</p:column>
							</p:autoComplete>
							<p:watermark for="chapter" value="Chapter" />
						</h:panelGrid>

						<h:panelGrid>
							<p:autoComplete id="product"
								value="#{jJRequirementBean.myJJRequirement.product}"
								completeMethod="#{jJRequirementBean.completeProduct}"
								var="product" itemLabel="#{product.name}" itemValue="#{product}"
								multiple="false" dropdown="true" required="false">
								<f:converter
									converterId="com.funder.janjoonweb.ui.mb.converter.JJProductConverter" />
								<p:column style="text-align:center">  
           							 #{product.name}<!-- - #{product.creationDate} -->
								</p:column>
							</p:autoComplete>
							<p:watermark for="product" value="Product" />
						</h:panelGrid>

						<h:panelGrid>
							<p:autoComplete id="project"
								value="#{jJRequirementBean.myJJRequirement.project}"
								completeMethod="#{jJRequirementBean.completeProject}"
								var="project" itemLabel="#{project.name}" itemValue="#{project}"
								multiple="false" dropdown="true" required="false">
								<f:converter
									converterId="com.funder.janjoonweb.ui.mb.converter.JJProjectConverter" />
								<p:column style="text-align:center">  
           							 #{project.name}<!-- - #{project.creationDate} -->
								</p:column>
							</p:autoComplete>
							<p:watermark for="project" value="Project" />
						</h:panelGrid>

					</h:panelGrid>


					<h:panelGrid columns="2" cellpadding="3">

						<h:panelGrid columns="2" cellpadding="3">
							<h:outputText value="Tasks: " />
							<p:selectManyMenu id="tasksList"
								value="#{jJRequirementBean.selectedTasksList}" var="t"
								showCheckbox="true" style="height:75px">
								<f:selectItems value="#{jJRequirementBean.tasksList}" var="task"
									itemLabel="#{task.name}" itemValue="#{task}" />
								<f:converter
									converterId="com.funder.janjoonweb.ui.mb.converter.JJTaskConverter" />
								<p:column style="text-align:left">  
															                #{t.name}
															            </p:column>
							</p:selectManyMenu>
						</h:panelGrid>

						<h:panelGrid columns="1" cellpadding="3">
							<p:inputText id="name" cols="60"
								value="#{jJRequirementBean.myJJRequirement.name}"
								required="true">
								<f:validateLength minimum="1" maximum="25" />
								<p:ajax update="msgName" event="keyup" />
							</p:inputText>
							<p:message for="name" id="msgName" display="icon" />
							<p:watermark for="name" value="Name" />
						</h:panelGrid>
					</h:panelGrid>

					<h:panelGrid columns="1" cellpadding="3">



						<h:panelGrid columns="1" cellpadding="3">
							<!--p:inputTextarea id="description" rows="6" cols="70"
								value="#{jJRequirementBean.myJJRequirement.description}"
								required="true">
								<f:validateLength minimum="1" maximum="250" />
								<p:ajax update="msgDescription" event="keyup" />
							</p:inputTextarea>
							<p:message for="description" id="msgDescription" display="icon" />
							<p:watermark for="description" value="Description" /-->
							<!-- EDITOR WYSIWYG -->
							<p:editor id="description" rows="4" cols="70"
								widgetVar="editorCreate"
								value="#{jJRequirementBean.myJJRequirement.description}"
								required="true">
								<f:validateLength minimum="1" maximum="250" />
								<!--p:ajax update="msgDescription" event="keyup" /-->
							</p:editor>
							<p:message for="description" id="msgDescription" display="icon" />
							<p:watermark for="description" value="Description" />
						</h:panelGrid>

						<h:panelGrid columns="1" cellpadding="3">
							<p:inputTextarea id="note" rows="2" cols="70"
								value="#{jJRequirementBean.myJJRequirement.note}"
								required="false">
								<f:validateLength minimum="0" maximum="250" />
								<p:ajax update="msgNote" event="keyup" />
							</p:inputTextarea>
							<p:message for="note" id="msgNote" display="icon" />
							<p:watermark for="note" value="Note" />
						</h:panelGrid>

						<h:panelGrid columns="3" cellpadding="3">
							<h:outputText value="Business: " />
							<h:outputText value="Functional: " />
							<h:outputText value="Technical: " />
							<p:selectManyMenu id="businessReqList"
								value="#{jJRequirementBean.selectedBusinessJJRequirements}"
								var="p" showCheckbox="true" style="height:75px">
								<f:selectItems
									value="#{jJRequirementBean.businessJJRequirementsList}"
									var="req" itemLabel="#{req.name}" itemValue="#{req}" />
								<f:converter
									converterId="com.funder.janjoonweb.ui.mb.converter.JJRequirementConverter" />
								<p:column style="text-align:left">  
															                #{p.name}
															            </p:column>
							</p:selectManyMenu>

							<p:selectManyMenu id="functionalReqList"
								value="#{jJRequirementBean.selectedFunctionalJJRequirements}"
								var="p" showCheckbox="true" style="height:75px">
								<f:selectItems
									value="#{jJRequirementBean.functionalJJRequirementsList}"
									var="req" itemLabel="#{req.name}" itemValue="#{req}" />
								<f:converter
									converterId="com.funder.janjoonweb.ui.mb.converter.JJRequirementConverter" />
								<p:column style="text-align:left">  
															                #{p.name}
															            </p:column>
							</p:selectManyMenu>

							<p:selectManyMenu id="technicalReqList"
								value="#{jJRequirementBean.selectedTechnicalJJRequirements}"
								var="p" showCheckbox="true" style="height:75px">
								<f:selectItems
									value="#{jJRequirementBean.technicalJJRequirementsList}"
									var="req" itemLabel="#{req.name}" itemValue="#{req}" />
								<f:converter
									converterId="com.funder.janjoonweb.ui.mb.converter.JJRequirementConverter" />
								<p:column style="text-align:left">  
															                #{p.name}
															            </p:column>
							</p:selectManyMenu>

						</h:panelGrid>
					</h:panelGrid>
					<f:facet name="footer">
						<p:row>
							<p:column>
								<p:commandButton value="Reset" type="reset" />
							</p:column>
							<p:column>
								<h:commandButton value="#{messages.label_save}"
									action="#{jJRequirementBean.persistJJRequirement(1)}"
									update=":dataForm" />
							</p:column>
						</p:row>
					</f:facet>
				</h:panelGrid>
			</p:dialog>

			<p:dialog id="myCreateChapterDialog" header="Create JJChapter"
				widgetVar="createJJChapter" maximizable="false" minimizable="false"
				showEffect="clip" hideEffect="fold" dynamic="true">

				<h:panelGrid columns="1" cellpadding="3">

					<h:panelGrid columns="1" cellpadding="3">

						<h:panelGrid columns="1" cellpadding="3">
							<p:inputText id="chapterName" cols="60"
								value="#{jJChapterBean.myJJChapter.name}" required="true">
								<f:validateLength minimum="1" maximum="25" />
								<p:ajax update="msgNameChapter" event="keyup" />
							</p:inputText>
							<p:message for="chapterName" id="msgNameChapter" display="icon" />
							<p:watermark for="chapterName" value="Name" />
						</h:panelGrid>

						<h:panelGrid columns="1" cellpadding="3">
							<p:inputTextarea id="chapterDescription" rows="6" cols="70"
								value="#{jJChapterBean.myJJChapter.description}" required="true">
								<f:validateLength minimum="1" maximum="250" />
								<p:ajax update="msgDescriptionChapter" event="keyup" />
							</p:inputTextarea>
							<p:message for="chapterDescription" id="msgDescriptionChapter"
								display="icon" />
							<p:watermark for="chapterDescription" value="Description" />
						</h:panelGrid>

						<h:panelGrid>
							<p:autoComplete id="chapterParent"
								value="#{jJChapterBean.myJJChapter.parent}"
								completeMethod="#{jJChapterBean.completeChapter}" var="chapter"
								itemLabel="#{chapter.name}" itemValue="#{chapter}"
								multiple="false" dropdown="true" required="false">
								<f:converter
									converterId="com.funder.janjoonweb.ui.mb.converter.JJChapterConverter" />
								<p:column>  
           							 #{chapter.name}<!-- - #{chapter.creationDate} -->
								</p:column>
							</p:autoComplete>
							<p:watermark for="chapterParent" value="Parent" />
						</h:panelGrid>

						<h:panelGrid columns="2" cellpadding="3">

							<p:tree id="leftTreeSingle" value="#{jJChapterBean.leftRoot}"
								var="nodeLeft" selectionMode="single"
								selection="#{jJChapterBean.selectedLeftNode}">
								<p:treeNode>
									<h:outputText value="#{nodeLeft}" />
								</p:treeNode>
							</p:tree>

							<p:tree id="RightTreeSingle" value="#{jJChapterBean.rightRoot}"
								var="nodeRight" selectionMode="single"
								selection="#{jJChapterBean.selectedRightNode}">
								<p:treeNode>
									<h:outputText value="#{nodeRight}" />
								</p:treeNode>
							</p:tree>

						</h:panelGrid>

					</h:panelGrid>
					<f:facet name="footer">
						<p:row>
							<p:column>
								<p:commandButton value="Reset" type="reset" />
							</p:column>
							<p:column>
								<h:commandButton value="#{messages.label_save}"
									action="#{jJChapterBean.persistJJChapter(1)}"
									update=":dataForm:messages" />
							</p:column>
						</p:row>
					</f:facet>
				</h:panelGrid>
			</p:dialog>



		</h:form>

	</ui:define>
</ui:composition>
</html>