<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="../templates/layout.xhtml">
	<link type="text/css" rel="stylesheet"
		href="#{facesContext.externalContext.requestContextPath}/syntaxhighlighter/syntaxhighlighter.css" />
	<link type="text/css" rel="stylesheet"
		href="/syntaxhighlighter/standard.css" />
	<ui:define name="content">
		<h:form prependId="false" id="dataForm">
			<br></br>
			<table>
				<tr>
					<p:column>
						<p:commandButton value="Business" icon="ui-icon-star"
							actionListener="#{jJRequirementBean.findAllBusinessJJRequirements}"
							id="businessButton" update="leftTable" />
						<p:commandButton value="Functional" icon="ui-icon-star"
							actionListener="#{jJRequirementBean.findAllFunctionalJJRequirements}"
							id="functionalButton" update="middleTable" />
						<p:button value="Architecture" icon="ui-icon-star" disabled="true" />
						<p:button value="Security" icon="ui-icon-star" disabled="true" />	
						<p:commandButton value="Technical" icon="ui-icon-star"
							actionListener="#{jJRequirementBean.findAllTechnicalJJRequirements}"
							id="technicalButton" update="rightTable" />
					</p:column>
				</tr>
				<tr></tr>
				<tr>
					<td>
						<p:dataTable id="leftTable"
							value="#{jJRequirementBean.myBusinessJJRequirements}"
							var="Requirement" resizableColumns="true" scrollable="true"
							scrollHeight="525" style="width:410px">

							<f:facet name="header">
								<p:panelGrid>
									<f:facet name="header">
										<p:row>
											<p:column colspan="1">
												<p:commandButton id="reqBusiChapterButton"
													icon="ui-icon-clipboard" type="button" />
											</p:column>
											<p:column colspan="5">
												<!--onkeyup="reqBusinessTable.filter()"  -->
												<p:inputText id="globalFilter" style="width:200px" />
												<p:watermark for="globalFilter" value="Search..." />
											</p:column>
											<p:column colspan="1">
												<p:commandButton id="createButton" icon="ui-icon-plus"
													title="Add Business Requirement"
													oncomplete="newBusinessRequirement.show()"
													actionListener="#{jJRequirementBean.createNewBusinessJJRequirement}" />
											</p:column>
											<p:column colspan="1">
												<p:commandButton id="dynaButton" icon="ui-icon-document"
													type="button" />
												<p:menu overlay="true" trigger="dynaButton" my="left top"
													at="left bottom">
													<p:menuitem>
														<h:commandLink>
															<p:graphicImage value="/resources/images/pdf.png" />
															<h:outputLabel value="export in pdf" />
															<p:dataExporter type="pdf" target="tbl"
																fileName="requirements" />
														</h:commandLink>
													</p:menuitem>
													<p:menuitem>
														<h:commandLink>
															<p:graphicImage value="/resources/images/csv.png" />
															<h:outputLabel value="export in csv" />
															<p:dataExporter type="pdf" target="tbl"
																fileName="requirements" />
														</h:commandLink>
													</p:menuitem>
													<p:menuitem>
														<h:commandLink>
															<p:graphicImage value="/resources/images/xml.png" />
															<h:outputLabel value="export in xml" />
															<p:dataExporter type="pdf" target="tbl"
																fileName="requirements" />
														</h:commandLink>
													</p:menuitem>
													<p:menuitem>
														<h:commandLink>
															<p:graphicImage value="/resources/images/excel.png" />
															<h:outputLabel value="export in xls" />
															<p:dataExporter type="pdf" target="tbl"
																fileName="requirements" />
														</h:commandLink>
													</p:menuitem>
												</p:menu>
											</p:column>
										</p:row>
									</f:facet>
								</p:panelGrid>
							</f:facet>

							<p:column headerText="Requirement">
								<h:outputText value="#{Requirement['name']}" />
							</p:column>

							<p:column headerText="Project">
								<h:outputText value="#{Requirement.project.name}" />
							</p:column>

							<p:column headerText="Chapter">
								<h:outputText value="#{Requirement.chapter.name}" />
							</p:column>

							<f:facet name="footer">Business Requirements</f:facet>
						</p:dataTable>
					</td>
					<td>
						<p:dataTable id="middleTable"
							value="#{jJRequirementBean.myFunctionalJJRequirements}"
							var="Requirement" resizableColumns="true" scrollable="true"
							scrollHeight="525" style="width:410px">

							<f:facet name="header">
								<p:panelGrid>
									<f:facet name="header">
										<p:row>
											<p:column colspan="1">
												<p:commandButton id="reqBusiChapterButton"
													icon="ui-icon-clipboard" type="button" />
											</p:column>
											<p:column colspan="5">
												<!--onkeyup="reqBusinessTable.filter()"  -->
												<p:inputText id="globalFilter" style="width:200px" />
												<p:watermark for="globalFilter" value="Search..." />
											</p:column>
											<p:column colspan="1">
												<p:commandButton id="createButton" icon="ui-icon-plus"
													title="Add Functional Requirement"
													oncomplete="newFunctionalRequirement.show()"
													actionListener="#{jJRequirementBean.createNewFunctionalJJRequirement}" />
											</p:column>
											<p:column colspan="1">
												<p:commandButton id="dynaButton" icon="ui-icon-document"
													type="button" />
												<p:menu overlay="true" trigger="dynaButton" my="left top"
													at="left bottom">
													<p:menuitem>
														<h:commandLink>
															<p:graphicImage value="/resources/images/pdf.png" />
															<h:outputLabel value="export in pdf" />
															<p:dataExporter type="pdf" target="tbl"
																fileName="requirements" />
														</h:commandLink>
													</p:menuitem>
													<p:menuitem>
														<h:commandLink>
															<p:graphicImage value="/resources/images/csv.png" />
															<h:outputLabel value="export in csv" />
															<p:dataExporter type="pdf" target="tbl"
																fileName="requirements" />
														</h:commandLink>
													</p:menuitem>
													<p:menuitem>
														<h:commandLink>
															<p:graphicImage value="/resources/images/xml.png" />
															<h:outputLabel value="export in xml" />
															<p:dataExporter type="pdf" target="tbl"
																fileName="requirements" />
														</h:commandLink>
													</p:menuitem>
													<p:menuitem>
														<h:commandLink>
															<p:graphicImage value="/resources/images/excel.png" />
															<h:outputLabel value="export in xls" />
															<p:dataExporter type="pdf" target="tbl"
																fileName="requirements" />
														</h:commandLink>
													</p:menuitem>
												</p:menu>
											</p:column>
										</p:row>
									</f:facet>
								</p:panelGrid>
							</f:facet>

							<p:column headerText="Requirement">
								<h:outputText value="#{Requirement['name']}" />
							</p:column>

							<p:column headerText="Project">
								<h:outputText value="#{Requirement.project.name}" />
							</p:column>

							<p:column headerText="Chapter">
								<h:outputText value="#{Requirement.chapter.name}" />
							</p:column>

							<f:facet name="footer">Functional Requirements</f:facet>
						</p:dataTable> 
						</td>
					<td>
						<p:dataTable id="rightTable"
							value="#{jJRequirementBean.myTechnicalJJRequirements}"
							var="Requirement" resizableColumns="true" scrollable="true"
							scrollHeight="525" style="width:410px">

							<f:facet name="header">
								<p:panelGrid>
									<f:facet name="header">
										<p:row>
											<p:column colspan="1">
												<p:commandButton id="reqBusiChapterButton"
													icon="ui-icon-clipboard" type="button" />
											</p:column>
											<p:column colspan="5">
												<!--onkeyup="reqBusinessTable.filter()"  -->
												<p:inputText id="globalFilter" style="width:200px" />
												<p:watermark for="globalFilter" value="Search..." />
											</p:column>
											<p:column colspan="1">
												<p:commandButton id="createButton" icon="ui-icon-plus"
													title="Add Technical Requirement"
													oncomplete="newTechnicalRequirement.show()"
													actionListener="#{jJRequirementBean.createNewTechnicalJJRequirement}" />
											</p:column>
											<p:column colspan="1">
												<p:commandButton id="dynaButton" icon="ui-icon-document"
													type="button" />
												<p:menu overlay="true" trigger="dynaButton" my="left top"
													at="left bottom">
													<p:menuitem>
														<h:commandLink>
															<p:graphicImage value="/resources/images/pdf.png" />
															<h:outputLabel value="export in pdf" />
															<p:dataExporter type="pdf" target="tbl"
																fileName="requirements" />
														</h:commandLink>
													</p:menuitem>
													<p:menuitem>
														<h:commandLink>
															<p:graphicImage value="/resources/images/csv.png" />
															<h:outputLabel value="export in csv" />
															<p:dataExporter type="pdf" target="tbl"
																fileName="requirements" />
														</h:commandLink>
													</p:menuitem>
													<p:menuitem>
														<h:commandLink>
															<p:graphicImage value="/resources/images/xml.png" />
															<h:outputLabel value="export in xml" />
															<p:dataExporter type="pdf" target="tbl"
																fileName="requirements" />
														</h:commandLink>
													</p:menuitem>
													<p:menuitem>
														<h:commandLink>
															<p:graphicImage value="/resources/images/excel.png" />
															<h:outputLabel value="export in xls" />
															<p:dataExporter type="pdf" target="tbl"
																fileName="requirements" />
														</h:commandLink>
													</p:menuitem>
												</p:menu>
											</p:column>
										</p:row>
									</f:facet>
								</p:panelGrid>
							</f:facet>

							<p:column headerText="Requirement">
								<h:outputText value="#{Requirement['name']}" />
							</p:column>

							<p:column headerText="Project">
								<h:outputText value="#{Requirement.project.name}" />
							</p:column>

							<p:column headerText="Chapter">
								<h:outputText value="#{Requirement.chapter.name}" />
							</p:column>

							<f:facet name="footer">Technical Requirements</f:facet>

						</p:dataTable></td>
				</tr>
			</table>
		</h:form>
	
		<h:form id="nbrdialogForm">
			<p:dialog header="New Business Requirement" widgetVar="newBusinessRequirement" maximizable="false" minimizable="false" showEffect="clip" hideEffect="fold">
				<h:panelGrid columns="1" cellpadding="2">
			
					<h:panelGrid columns="4" cellpadding="2">
					<p:autoComplete id="bchapter"
						value="#{jJRequirementBean.myBusinessJJRequirement.chapter}"
						completeMethod="#{jJRequirementBean.completeChapter}"
						var="chapter" itemLabel="#{chapter.name}" itemValue="#{chapter}"
						converter="#{jJRequirementBean.chapterConverter}" multiple="false" dropdown="true" required="false">

						<p:column style="text-align:center">  
           				 #{chapter.name} - #{chapter.creationDate} 
        				</p:column>
					</p:autoComplete>
					<p:watermark for="bchapter" value="Chapter" />
					
					<p:autoComplete id="bproject"
						value="#{jJRequirementBean.myBusinessJJRequirement.project}"
						completeMethod="#{jJRequirementBean.completeProject}"
						var="project" itemLabel="#{project.name}" itemValue="#{project}"
						converter="#{jJRequirementBean.projectConverter}" multiple="false"
						dropdown="true" required="false">

						<p:column style="text-align:center">  
           				 #{project.name} - #{project.creationDate} 
        				</p:column>
					</p:autoComplete>
					<p:watermark for="bproject" value="Project" />
					</h:panelGrid>
					<h:panelGrid columns="3" cellpadding="2">
					<p:inputText id="bname"
						value="#{jJRequirementBean.myBusinessJJRequirement.name}"
						required="true">
						<f:validateLength minimum="1" maximum="25"/>
						<p:ajax update="msgName" event="keyup" />
					</p:inputText>
					<p:message for="bname" id="msgName" display="icon"/>
					<p:watermark for="bname" value="Name" />

					<p:inputText id="bdescription"
						value="#{jJRequirementBean.myBusinessJJRequirement.description}"
						required="true">
						<f:validateLength minimum="1" maximum="250" />
						<p:ajax update="msgDescription" event="keyup" />
					</p:inputText>
					<p:message for="bdescription" id="msgDescription" display="icon" />
					<p:watermark for="bdescription" value="Description" />
					</h:panelGrid>

					<h:panelGrid columns="3" cellpadding="2">
						<p:inputTextarea id="bnote" rows="6" cols="20"
							value="#{jJRequirementBean.myBusinessJJRequirement.note}"
							required="false">
							<f:validateLength minimum="0" maximum="250" />
							<p:ajax update="msgNote" event="keyup" />
						</p:inputTextarea>
						<p:message for="bnote" id="msgNote" display="icon" />
						<p:watermark for="bnote" value="Note" />
					</h:panelGrid>

					<f:facet name="footer">
						<p:row>
							<p:column>
								<p:commandButton value="Reset" type="reset" />
							</p:column>
							<p:column>
								<h:commandButton value="#{messages.label_save}"
									action="#{jJRequirementBean.persistNewBusinessJJRequirement}"
									update="leftTable" />
							</p:column>
						</p:row>
					</f:facet>
				</h:panelGrid>
			</p:dialog>
		</h:form>	
		<h:form id="nfrdialogForm">
			<p:dialog header="New Functional Requirement" widgetVar="newFunctionalRequirement" maximizable="true" minimizable="true" showEffect="clip" hideEffect="fold">
				<h:panelGrid columns="1" cellpadding="2">

					<h:panelGrid columns="4" cellpadding="2">
						<p:autoComplete id="fchapter"
							value="#{jJRequirementBean.myFunctionalJJRequirement.chapter}"
							completeMethod="#{jJRequirementBean.completeChapter}"
							var="chapter" itemLabel="#{chapter.name}" itemValue="#{chapter}"
							converter="#{jJRequirementBean.chapterConverter}"
							multiple="false" dropdown="true" required="false">

							<p:column style="text-align:center">  
           				 #{chapter.name} - #{chapter.creationDate} 
        				</p:column>
						</p:autoComplete>
						<p:watermark for="fchapter" value="Chapter" />

						<p:autoComplete id="fproject"
							value="#{jJRequirementBean.myFunctionalJJRequirement.project}"
							completeMethod="#{jJRequirementBean.completeProject}"
							var="project" itemLabel="#{project.name}" itemValue="#{project}"
							converter="#{jJRequirementBean.projectConverter}"
							multiple="false" dropdown="true" required="false">

							<p:column style="text-align:center">  
           				 #{project.name} - #{project.creationDate} 
        				</p:column>
						</p:autoComplete>
						<p:watermark for="fproject" value="Project" />
					</h:panelGrid>
					<h:panelGrid columns="3" cellpadding="2">
						<p:inputText id="fname"
							value="#{jJRequirementBean.myFunctionalJJRequirement.name}"
							required="true">
							<f:validateLength minimum="1" maximum="25" />
							<p:ajax update="msgName" event="keyup" />
						</p:inputText>
						<p:message for="fname" id="msgName" display="icon" />
						<p:watermark for="fname" value="Name" />

						<p:inputText id="fdescription"
							value="#{jJRequirementBean.myFunctionalJJRequirement.description}"
							required="true">
							<f:validateLength minimum="1" maximum="250" />
							<p:ajax update="msgDescription" event="keyup" />
						</p:inputText>
						<p:message for="fdescription" id="msgDescription" display="icon" />
						<p:watermark for="fdescription" value="Description" />
					</h:panelGrid>

					<h:panelGrid columns="3" cellpadding="2">
						<p:inputTextarea id="fnote" rows="6" cols="20"
							value="#{jJRequirementBean.myFunctionalJJRequirement.note}"
							required="false">
							<f:validateLength minimum="0" maximum="250" />
							<p:ajax update="msgNote" event="keyup" />
						</p:inputTextarea>
						<p:message for="fnote" id="msgNote" display="icon" />
						<p:watermark for="fnote" value="Note" />
					</h:panelGrid>










					<f:facet name="footer">
						<p:row>
							<p:column>
								<p:commandButton value="Reset" type="reset" />
							</p:column>
							<p:column>
								<h:commandButton value="#{messages.label_save}"
									action="#{jJRequirementBean.persistNewFunctionalJJRequirement}"
									update="middleTable" />
							</p:column>
						</p:row>
					</f:facet>
				</h:panelGrid>
			</p:dialog>
		</h:form>	
		<h:form id="ntrdialogForm">
			<p:dialog header="New Technical Requirement" widgetVar="newTechnicalRequirement" maximizable="true" minimizable="true" showEffect="clip" hideEffect="fold">
					    <h:panelGrid columns="1" cellpadding="2">  
            				
					<h:panelGrid columns="4" cellpadding="2">
					<p:autoComplete id="tchapter"
						value="#{jJRequirementBean.myTechnicalJJRequirement.chapter}"
						completeMethod="#{jJRequirementBean.completeChapter}"
						var="chapter" itemLabel="#{chapter.name}" itemValue="#{chapter}"
						converter="#{jJRequirementBean.chapterConverter}" multiple="false" dropdown="true" required="false">

						<p:column style="text-align:center">  
           				 #{chapter.name} - #{chapter.creationDate} 
        				</p:column>
					</p:autoComplete>
					<p:watermark for="tchapter" value="Chapter" />
					
					<p:autoComplete id="tproject"
						value="#{jJRequirementBean.myTechnicalJJRequirement.project}"
						completeMethod="#{jJRequirementBean.completeProject}"
						var="project" itemLabel="#{project.name}" itemValue="#{project}"
						converter="#{jJRequirementBean.projectConverter}" multiple="false"
						dropdown="true" required="false">

						<p:column style="text-align:center">  
           				 #{project.name} - #{project.creationDate} 
        				</p:column>
					</p:autoComplete>
					<p:watermark for="tproject" value="Project" />
					</h:panelGrid>
					<h:panelGrid columns="3" cellpadding="2">
					<p:inputText id="tname"
						value="#{jJRequirementBean.myTechnicalJJRequirement.name}"
						required="true">
						<f:validateLength minimum="1" maximum="25"/>
						<p:ajax update="msgName" event="keyup" />
					</p:inputText>
					<p:message for="tname" id="msgName" display="icon"/>
					<p:watermark for="tname" value="Name" />

					<p:inputText id="tdescription"
						value="#{jJRequirementBean.myTechnicalJJRequirement.description}"
						required="true">
						<f:validateLength minimum="1" maximum="250" />
						<p:ajax update="msgDescription" event="keyup" />
					</p:inputText>
					<p:message for="tdescription" id="msgDescription" display="icon" />
					<p:watermark for="tdescription" value="Description" />
					</h:panelGrid>

					<h:panelGrid columns="3" cellpadding="2">
						<p:inputTextarea id="tnote" rows="6" cols="20"
							value="#{jJRequirementBean.myTechnicalJJRequirement.note}"
							required="false">
							<f:validateLength minimum="0" maximum="250" />
							<p:ajax update="msgNote" event="keyup" />
						</p:inputTextarea>
						<p:message for="tnote" id="msgNote" display="icon" />
						<p:watermark for="tnote" value="Note" />
					</h:panelGrid>
            				
            				
            				
            				
            				
            				<f:facet name="footer">  
        						<p:row>  
            						<p:column>  
                			  			<p:commandButton value="Reset" type="reset"/> 
            						</p:column>  
            						<p:column>  
           								<h:commandButton value="#{messages.label_save}" action="#{jJRequirementBean.persistNewTechnicalJJRequirement}" update="rightTable"/> 
            						</p:column>   
        						</p:row>  
    						</f:facet> 
        				</h:panelGrid>  
			</p:dialog>
		</h:form>

	</ui:define>
</ui:composition>
</html>