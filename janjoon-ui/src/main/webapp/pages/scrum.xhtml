<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:p="http://primefaces.org/ui">

<ui:composition>
	<h:panelGroup layout="block" styleClass="Container">
		<h:panelGroup layout="block" styleClass="Container100 ShowOnMobile">
			<h:form id="activeSprintIndexForm">
				<h:panelGroup layout="block" styleClass="Container30">
					<h:panelGroup layout="block" styleClass="ContainerIndentLabel">
						<p:outputLabel for="activeSprintIndex" value="Sprint:" />
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="Container70">
					<h:panelGroup layout="block" styleClass="ContainerIndent">
						<p:selectOneMenu id="activeSprintIndex"
							value="#{jJSprintBean.activeTabSprintIndex}" effect="fade"
							onchange="PF('SprintTab').select(value);">
							<f:selectItems value="#{jJSprintBean.sprintList}" var="jjsprint"
								itemLabel="#{jjsprint.sprint.name != null ? jjsprint.sprint.name : messages.project_scrum_new_title}"
								itemValue="#{jJSprintBean.contains(jjsprint.sprint.id)}" />
						</p:selectOneMenu>
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</h:panelGroup>
		<h:panelGroup layout="block" styleClass="Container100">
			<f:event type="preRenderComponent"
				listener="#{loginBean.updateTabViewWidth()}" />
			<p:tabView id="SprintTabView" dynamic="true" cache="true"
				scrollable="true" widgetVar="SprintTab"
				styleClass="responsiveTabView" value="#{jJSprintBean.sprintList}"
				style="max-width: 300px;display: none;border: 0px;"
				onTabChange="sprintTabChangeHelper([{name: 'activeScrumIndex', value: index}]);"
				var="jjsprint" activeIndex="#{jJSprintBean.activeTabSprintIndex}">
				<p:tab
					disabled="#{jjsprint.render and !loginBean.authorisationService.wProject}">
					<f:facet name="title">
						<h:outputText id="tabHeader" rendered="#{!jjsprint.render}"
							value="#{jjsprint.sprint.name}" />
						<h:outputText rendered="#{jjsprint.render}" value=" "
							title="#{messages.project_scrum_new_title}"
							styleClass="fa fa-plus-square Fs16" />
					</f:facet>
					<ui:include src="sprint.xhtml" />
					<h:form id="sprintForm" rendered="#{!jjsprint.render}">
						<p:remoteCommand name="updateBarChart"
							update="#{jjsprint.chartModel != null ? ':projecttabview:SprintTabView:sprintForm:barChart':''}" />
						<h:panelGroup layout="block" styleClass="Container ui-fluid">
							<h:panelGroup layout="block"
								styleClass="Container60 Responsive100">
								<p:panel header="#{messages.project_scrum_sprint_info}"
									styleClass="Container99">
									<h:panelGroup layout="block" styleClass="Container">
										<h:panelGroup layout="block"
											styleClass="Container50 Responsive50">
											<h:panelGroup layout="block" styleClass="Container40">
												<h:panelGroup layout="block"
													styleClass="ContainerIndentLabel">
													<p:outputLabel for="sprintName"
														value="#{messages.project_scrum_sprint_name}:" />
												</h:panelGroup>
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="Container60">
												<h:panelGroup layout="block" styleClass="ContainerIndent">
													<p:inputText id="sprintName"
														value="#{jjsprint.sprint.name}" required="true"
														requiredMessage="#{messages.project_scrum_sprint_name_required}">
														<f:validateLength maximum="100" />
													</p:inputText>
												</h:panelGroup>
											</h:panelGroup>
										</h:panelGroup>
										<h:panelGroup layout="block"
											styleClass="Container50 Responsive50">
											<h:panelGroup layout="block" styleClass="Container40">
												<h:panelGroup layout="block"
													styleClass="ContainerIndentLabel">
													<p:outputLabel for="sprintcts"
														value="#{messages.project_scrum_sprint_contacts}:" />
												</h:panelGroup>
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="Container60">
												<h:panelGroup layout="block" styleClass="ContainerIndent">
													<p:selectManyMenu id="sprintcts"
														value="#{jjsprint.contacts}" scrollHeight="150"
														converter="com.starit.janjoonweb.ui.mb.converter.JJContactConverter"
														showCheckbox="true">
														<f:selectItems value="#{jJSprintBean.contacts}" var="ctc"
															itemLabel="#{ctc.firstname} #{ctc.name}"
															itemValue="#{ctc}" />
														<f:validator validatorId="listCategoriesValidator" />
													</p:selectManyMenu>
												</h:panelGroup>
											</h:panelGroup>
										</h:panelGroup>
										<div class="EmptyBox1 barChart"
											id="barChart_#{jjsprint.sprint.id}_#{jjsprint.chartModel != null}" />
										<h:panelGroup layout="block"
											styleClass="Container50 Responsive50">
											<h:panelGroup layout="block" styleClass="Container40">
												<h:panelGroup layout="block"
													styleClass="ContainerIndentLabel">
													<p:outputLabel for="sprintSD"
														value="#{messages.project_scrum_new_start_label}" />
												</h:panelGroup>
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="Container60">
												<h:panelGroup layout="block" styleClass="ContainerIndent">
													<p:calendar id="sprintSD" navigator="true"
														effect="slideDown" pattern="dd/MM/yyyy" required="true"
														binding="#{startDateEdition}" readonlyInput="true"
														value="#{jjsprint.sprint.startDate}">
														<f:validator validatorId="dateRangeValidator" />
														<f:attribute name="sprintMode" value="sprintSD" />
													</p:calendar>
												</h:panelGroup>
											</h:panelGroup>
										</h:panelGroup>
										<h:panelGroup layout="block"
											styleClass="Container50 Responsive50">
											<h:panelGroup layout="block" styleClass="Container40">
												<h:panelGroup layout="block"
													styleClass="ContainerIndentLabel">
													<p:outputLabel for="sprintED"
														value="#{messages.project_scrum_new_end_label}" />
												</h:panelGroup>
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="Container60">
												<h:panelGroup layout="block" styleClass="ContainerIndent">
													<p:calendar id="sprintED" navigator="true"
														readonlyInput="true" effect="slideDown"
														pattern="dd/MM/yyyy" required="true"
														value="#{jjsprint.sprint.endDate}">
														<f:validator validatorId="dateRangeValidator" />
														<f:attribute name="startDateComponent"
															value="#{startDateEdition}" />
														<f:attribute name="sprintMode" value="sprintED" />
													</p:calendar>
												</h:panelGroup>
											</h:panelGroup>
										</h:panelGroup>
										<h:panelGroup layout="block" styleClass="EmptyBox1" />
										<h:panelGroup layout="block"
											styleClass="Container50 Responsive50">
											<h:panelGroup layout="block" styleClass="Container40">
												<h:panelGroup layout="block"
													styleClass="ContainerIndentLabel">
													<p:outputLabel for="sprintPS"
														value="#{messages.project_scrum_price_sold}:" />
												</h:panelGroup>
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="Container60">
												<h:panelGroup layout="block" styleClass="ContainerIndent">
													<p:spinner id="sprintPS" value="#{jjsprint.priseSold}"
														prefix="$" min="0" readonly="true" />
												</h:panelGroup>
											</h:panelGroup>
										</h:panelGroup>
										<h:panelGroup layout="block"
											styleClass="Container50 Responsive50">
											<h:panelGroup layout="block" styleClass="Container40">
												<h:panelGroup layout="block"
													styleClass="ContainerIndentLabel">
													<p:outputLabel for="sprintPR"
														value="#{messages.project_scrum_price_real}:" />
												</h:panelGroup>
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="Container60">
												<h:panelGroup layout="block" styleClass="ContainerIndent">
													<p:spinner id="sprintPR" value="#{jjsprint.priseReal}"
														prefix="$" min="0" readonly="true" />
												</h:panelGroup>
											</h:panelGroup>
										</h:panelGroup>
										<h:panelGroup layout="block" styleClass="EmptyBox1" />
										<h:panelGroup layout="block"
											styleClass="Container50 Responsive50">
											<h:panelGroup layout="block" styleClass="Container40">
												<h:panelGroup layout="block"
													styleClass="ContainerIndentLabel">
													<p:outputLabel for="sprintW"
														value="#{messages.project_scrum_total}:" />
												</h:panelGroup>
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="Container60">
												<h:panelGroup layout="block" styleClass="ContainerIndent">
													<p:inputText id="sprintW" readonly="true"
														value="#{jjsprint.workload}" />
												</h:panelGroup>
											</h:panelGroup>
										</h:panelGroup>
										<h:panelGroup layout="block"
											styleClass="Container50 Responsive50">
											<h:panelGroup layout="block" styleClass="Container40">
												<h:panelGroup layout="block"
													styleClass="ContainerIndentLabel">
													<p:outputLabel for="sprintC"
														value="#{messages.project_scrum_consumed}:" />
												</h:panelGroup>
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="Container60">
												<h:panelGroup layout="block" styleClass="ContainerIndent">
													<p:inputText id="sprintC" readonly="true"
														value="#{jjsprint.consumed}" />
												</h:panelGroup>
											</h:panelGroup>
										</h:panelGroup>
										<h:panelGroup layout="block" styleClass="EmptyBox1" />
									</h:panelGroup>
									<f:facet name="footer">
										<h:panelGroup layout="block" styleClass="Container">
											<h:panelGroup layout="block"
												styleClass="#{jjsprint.enableDelete ? 'Container33 Responsive':'Container50 Responsive50'}">
												<h:panelGroup layout="block" styleClass="ContainerIndent">
													<p:commandButton id="editSprintButton"
														disabled="{!loginBean.authorisationService.wProject}"
														value="#{messages.label_save}" icon="fa fa-check Fs16"
														process="@this,sprintName,sprintED,sprintSD,sprintcts"
														actionListener="#{jJSprintBean.attrListener}"
														onstart="PF('blockUIWidget').block()"
														oncomplete="PF('blockUIWidget').unblock();updateTabViewWidth();"
														update=":projecttabview:SprintTabView:sprintForm :growlForm">
														<f:attribute name="sprintUtilValue" value="#{jjsprint}" />
														<f:attribute name="create" value="edit" />
													</p:commandButton>
													<p:remoteCommand name="editSprint"
														update=":projecttabview :growlForm"
														action="#{jJSprintBean.editSprint}"
														onstart="PF('blockUIWidget').block()"
														oncomplete="PF('blockUIWidget').unblock();updateTabViewWidth();" />
												</h:panelGroup>
											</h:panelGroup>
											<h:panelGroup layout="block"
												rendered="#{jjsprint.enableDelete}"
												styleClass="#{jjsprint.enableDelete ? 'Container33 Responsive':'Container50 Responsive50'}">
												<h:panelGroup layout="block" styleClass="ContainerIndent">
													<p:commandButton id="deleteSprintButton"
														rendered="#{jjsprint.enableDelete}"
														disabled="{!loginBean.authorisationService.wProject}"
														value="#{messages.label_delete}" icon="fa fa-trash Fs16"
														action="#{jJSprintBean.deleteSprint(jjsprint)}"
														onstart="PF('blockUIWidget').block()"
														oncomplete="PF('blockUIWidget').unblock();updateTabViewWidth();"
														update=":projecttabview :growlForm">
														<f:attribute name="sprintUtilValue" value="#{jjsprint}" />
													</p:commandButton>
												</h:panelGroup>
											</h:panelGroup>
											<h:panelGroup layout="block"
												styleClass="#{jjsprint.enableDelete ? 'Container33 Responsive':'Container50 Responsive50'}">
												<h:panelGroup layout="block" styleClass="ContainerIndent">
													<p:commandButton
														value="#{messages.project_gantt_import_button}"
														id="createTaskttButton" icon="fa fa-plus-square Fs16"
														update=":projecttabview:SprintTabView:sprintForm :projecttabview:SprintTabView:taskListForm :importTaskDialogPanel :growlForm"
														immediate="true" onstart="PF('blockUIWidget').block()"
														oncomplete="PF('blockUIWidget').unblock();"
														resetValues="true"
														actionListener="#{jJTaskBean.loadImportFormat}"
														title="#{messages.project_gantt_import_button}">
														<f:attribute name="sprintUtilValue" value="#{jjsprint}" />
														<f:attribute name="mode" value="scrum" />
													</p:commandButton>
												</h:panelGroup>
											</h:panelGroup>
										</h:panelGroup>
									</f:facet>
								</p:panel>
							</h:panelGroup>
							<h:panelGroup id="sprintChartPanelGrid"
								rendered="#{jjsprint.chartModel != null}"
								styleClass="Container40 Responsive100" layout="block">
								<p:panel header="#{messages.project_scrum_sprint_chart}"
									styleClass="Container99">
									<h:panelGroup layout="block" styleClass="Container100">
										<p:chart id="barChart" type="bar" responsive="true"
											model="#{jjsprint.chartModel}"
											widgetVar="barChart_#{jjsprint.sprint.id}_#{jjsprint.chartModel != null}_Widget"
											style="height:300px;" />
									</h:panelGroup>
								</p:panel>
							</h:panelGroup>
						</h:panelGroup>
					</h:form>
					<h:panelGroup layout="block" styleClass="EmptyBox5"
						rendered="#{!jjsprint.render}" />

					<h:form id="taskListForm" rendered="#{!jjsprint.render}">
						<h:panelGroup layout="block" styleClass="Container">
							<p:panel header="#{messages.project_scrum_sprint_tasks}"
								rendered="#{jjsprint.chartModel != null}"
								styleClass="Container100">
								<h:panelGroup layout="block"
									styleClass="Container33 Responsive100">
									<h:panelGroup layout="block" styleClass="EmptyBox5" />
									<p:fieldset legend="#{messages.project_scrum_todo}"
										style="padding: 4px;padding-bottom: 0px;#{not empty jjsprint.todoTask ? 'border: 0px;':''}"
										id="todoFieldset">
										<p:outputPanel id="tododropArea"
											style="#{empty jjsprint.todoTask ? 'text-align: center;':''}">
											<h:outputText
												value="!!!  #{messages.project_scrum_drop_panel}  !!!"
												rendered="#{empty jjsprint.todoTask and !jjsprint.disableDragDrop}"
												styleClass="Fs24" />
											<p:dataTable scrollable="true" scrollHeight="250" id="todo"
												var="todo" value="#{jjsprint.todoTask}"
												emptyMessage="#{messages.label_notRecordFound}"
												styleClass="planning-dataTable task-dataTable"
												rowKey="#{todo.id}" sortOrder="DESCENDING"
												style="table-layout: fixed"
												rendered="#{not empty jjsprint.todoTask}"
												sortBy="#{todo.creationDate}">

												<p:column rendered="#{!jjsprint.disableDragDrop}"
													style="text-align: center;width: 15%;padding-right: 0px;padding-left: 0px;padding-top: 0px;padding-bottom: 0px;">

													<p:panel id="todoIcon"
														style="background: initial;border: none;text-align: center;min-height: 40px;">
														<h:outputText styleClass="fa fa-arrows Fs20" />
													</p:panel>
													<p:draggable for="todoIcon" revert="true" scope="TodoTask"
														disabled="#{jjsprint.disableDragDrop}" />
												</p:column>
												<p:column style="width:60%">
													<h:panelGroup id="todoPanel">
														<p:graphicImage
															rendered="#{todo.taskType.name == 'specifier'}"
															library="images" name="doc.ico" width="16" height="16" />
														<h:outputText
															value="#{jJTaskBean.getDialogHeader(todo,'scrum')}" />
													</h:panelGroup>
													<p:draggable for="todoPanel" revert="true" scope="TodoTask"
														disabled="#{jjsprint.disableDragDrop}" />
												</p:column>

												<p:column style="width:10%" priority="6">
													<h:outputText value="#{todo.workloadPlanned}" />
												</p:column>
												<p:column style="width:15%;text-align: center;">
													<p:commandButton styleClass="littleButton" id="todoButton"
														type="button"
														icon="ui-icon-#{jJTaskBean.getTaskIcone(todo)}" />
													<p:menu overlay="true" trigger="todoButton" my="left top"
														at="left bottom">
														<p:menuitem id="viewTaskButton" icon="fa fa-eye Fs16"
															update=":viewTaskForm :viewTaskDialogHeader"
															immediate="true" resetValues="true"
															value="#{messages.project_gantt_table_actions_viewMenuItem}"
															action="#{jJTaskBean.initiateReqTreeNode}">
															<f:setPropertyActionListener value="#{todo}"
																target="#{jJTaskBean.task}" />
															<f:setPropertyActionListener target="#{jJTaskBean.mode}"
																value="scrum" />
														</p:menuitem>

														<p:menuitem id="deleteButton" icon="fa fa-trash Fs16"
															oncomplete="PF('deleteDialogWidget').show()"
															value="#{messages.label_delete}">
															<f:setPropertyActionListener value="#{todo}"
																target="#{jJSprintBean.task}" />
															<f:setPropertyActionListener target="#{jJTaskBean.mode}"
																value="scrum" />
														</p:menuitem>
														<p:menuitem id="copyButton" icon="fa fa-copy Fs16"
															onclick="copyName('#{jJTaskBean.getDialogHeader(todo,null)}');"
															value="Copy" title="Copy" />
													</p:menu>
												</p:column>
											</p:dataTable>
										</p:outputPanel>
									</p:fieldset>
								</h:panelGroup>
								<h:panelGroup layout="block"
									styleClass="Container33 Responsive100">
									<h:panelGroup layout="block" styleClass="EmptyBox5" />
									<p:fieldset legend="#{messages.project_scrum_inProgress}"
										style="padding: 4px;padding-bottom: 0px;#{not empty jjsprint.progressTask ? 'border: 0px;':''}"
										id="progFieldset">
										<p:outputPanel id="progdropArea"
											style="#{empty jjsprint.progressTask ? 'text-align: center;':''}">
											<h:outputText
												value="!!!  #{messages.project_scrum_drop_panel}  !!!"
												rendered="#{empty jjsprint.progressTask and !jjsprint.disableDragDrop}"
												styleClass="Fs24" />
											<p:dataTable scrollable="true" scrollHeight="250" id="prog"
												editable="true" editMode="cell" var="prog"
												style="table-layout: fixed" sortOrder="DESCENDING"
												styleClass="planning-dataTable task-dataTable"
												emptyMessage="#{messages.label_notRecordFound}"
												value="#{jjsprint.progressTask}" rowKey="#{prog.id}"
												rendered="#{not empty jjsprint.progressTask}"
												sortBy="#{prog.startDateReal}">
												<p:ajax event="cellEdit" oncomplete="updateTabViewWidth();"
													listener="#{jJSprintBean.onCellEditTask}"
													update=":growlForm :projecttabview:SprintTabView:taskListForm :projecttabview:SprintTabView:sprintForm" />
												<p:column rendered="#{!jjsprint.disableDragDrop}"
													style="text-align: center;width: 10%;;padding-right: 0px;padding-left: 0px;padding-top: 0px;padding-bottom: 0px;">
													<p:panel id="progIcon"
														style="background: initial;border: none;text-align: center;min-height: 40px;">
														<h:outputText styleClass="fa fa-arrows Fs20" />
													</p:panel>
													<p:draggable for="progIcon" revert="true" scope="ProgTask"
														disabled="#{jjsprint.disableDragDrop}" />
												</p:column>

												<p:column style="width:55%">
													<h:panelGroup id="progPanel">
														<p:graphicImage
															rendered="#{prog.taskType.name == 'specifier'}"
															library="images" name="doc.ico" width="16" height="16" />
														<h:outputText
															value="#{jJTaskBean.getDialogHeader(prog,'scrum')}" />
													</h:panelGroup>
													<p:draggable for="progPanel" revert="true" scope="ProgTask"
														disabled="#{jjsprint.disableDragDrop}" />
												</p:column>

												<p:column style="width:20%" priority="6">
													<h:outputText value="#{prog.assignedTo.name}" />
												</p:column>
												<p:column style="width:15%;text-align: center;">
													<p:commandButton styleClass="littleButton" id="progButton"
														type="button"
														icon="ui-icon-#{jJTaskBean.getTaskIcone(prog)}" />
													<p:menu overlay="true" trigger="progButton" my="left top"
														at="left bottom">
														<p:menuitem id="viewTaskButton" icon="fa fa-copy Fs16"
															update=":viewTaskForm :viewTaskDialogHeader"
															immediate="true" resetValues="true"
															value="#{messages.project_gantt_table_actions_viewMenuItem}"
															action="#{jJTaskBean.initiateReqTreeNode}">
															<f:setPropertyActionListener value="#{prog}"
																target="#{jJTaskBean.task}" />
															<f:setPropertyActionListener target="#{jJTaskBean.mode}"
																value="scrum" />
														</p:menuitem>

														<p:menuitem id="deleteButton" icon="fa fa-trash Fs16"
															oncomplete="PF('deleteDialogWidget').show()"
															value="#{messages.label_delete}">
															<f:setPropertyActionListener value="#{prog}"
																target="#{jJSprintBean.task}" />
															<f:setPropertyActionListener target="#{jJTaskBean.mode}"
																value="scrum" />
														</p:menuitem>
														<p:menuitem id="copyButton" icon="fa fa-copy Fs16"
															onclick="copyName('#{jJTaskBean.getDialogHeader(prog,null)}');"
															value="Copy" title="Copy" />
													</p:menu>
												</p:column>
											</p:dataTable>
										</p:outputPanel>
									</p:fieldset>
								</h:panelGroup>
								<h:panelGroup layout="block"
									styleClass="Responsive100 Container33">
									<h:panelGroup layout="block" styleClass="EmptyBox5" />
									<p:fieldset legend="#{messages.project_scrum_done}"
										style="padding: 4px;padding-bottom: 0px;#{not empty jjsprint.doneTask ? 'border: 0px;':''}"
										id="doneFieldset">
										<p:outputPanel id="donedropArea"
											style="#{empty jjsprint.doneTask ? 'text-align: center;':''}">
											<h:outputText
												value="!!!  #{messages.project_scrum_drop_panel}  !!!"
												rendered="#{empty jjsprint.doneTask and !jjsprint.disableDragDrop}"
												styleClass="Fs24" />
											<p:dataTable id="done"
												styleClass="planning-dataTable task-dataTable"
												emptyMessage="#{messages.label_notRecordFound}" var="done"
												value="#{jjsprint.doneTask}" rowKey="#{done.id}"
												style="table-layout: fixed"
												rendered="#{not empty jjsprint.doneTask}" scrollable="true"
												scrollHeight="250" sortOrder="DESCENDING"
												sortBy="#{done.endDateReal}">

												<p:column rendered="#{!jjsprint.disableDragDrop}"
													style="text-align: center;width: 15%;padding-right: 0px;padding-left: 0px;padding-top: 0px;padding-bottom: 0px;">
													<p:panel id="doneIcon"
														style="background: initial;border: none;text-align: center;min-height: 40px;">
														<h:outputText styleClass="fa fa-arrows Fs20" />
													</p:panel>
													<p:draggable for="doneIcon" revert="true" scope="DoneTask"
														disabled="#{jjsprint.disableDragDrop}" />
												</p:column>

												<p:column style="width:60%">
													<h:panelGroup id="donePanel">
														<p:graphicImage
															rendered="#{done.taskType.name == 'specifier'}"
															library="images" name="doc.ico" width="16" height="16" />
														<h:outputText
															value="#{jJTaskBean.getDialogHeader(done,'scrum')}" />
													</h:panelGroup>
													<p:draggable for="donePanel" revert="true" scope="DoneTask"
														disabled="#{jjsprint.disableDragDrop}" />
												</p:column>

												<p:column style="width:10%" priority="6">
													<h:outputText
														value="#{done.workloadPlanned-done.workloadReal}" />
												</p:column>
												<p:column style="width:15%;text-align: center;">
													<p:commandButton styleClass="littleButton" id="doneButton"
														type="button"
														icon="ui-icon-#{jJTaskBean.getTaskIcone(done)}" />
													<p:menu overlay="true" trigger="doneButton" my="left top"
														at="left bottom">
														<p:menuitem id="viewTaskButton" icon="fa fa-eye Fs16"
															update=":viewTaskForm :viewTaskDialogHeader"
															immediate="true" resetValues="true"
															value="#{messages.project_gantt_table_actions_viewMenuItem}"
															action="#{jJTaskBean.initiateReqTreeNode}">
															<f:setPropertyActionListener value="#{done}"
																target="#{jJTaskBean.task}" />
															<f:setPropertyActionListener target="#{jJTaskBean.mode}"
																value="scrum" />
														</p:menuitem>

														<p:menuitem id="deleteButton" icon="fa fa-trash Fs16"
															oncomplete="PF('deleteDialogWidget').show()"
															value="#{messages.label_delete}">
															<f:setPropertyActionListener value="#{done}"
																target="#{jJSprintBean.task}" />
															<f:setPropertyActionListener target="#{jJTaskBean.mode}"
																value="scrum" />
														</p:menuitem>
														<p:menuitem id="copyButton" icon="fa fa-copy Fs16"
															onclick="copyName('#{jJTaskBean.getDialogHeader(done,null)}');"
															value="Copy" title="Copy" />

													</p:menu>
												</p:column>
											</p:dataTable>
										</p:outputPanel>
									</p:fieldset>
								</h:panelGroup>
							</p:panel>
						</h:panelGroup>
						<p:droppable id="addTaskToProg_FromTodo" for="progFieldset"
							tolerance="touch" scope="TodoTask"
							disabled="#{jjsprint.disableDragDrop}"
							activeStyleClass="highLightRow" datasource="todo">
							<p:ajax listener="#{jJSprintBean.addTaskToProg}"
								onstart="PF('blockUIWidget').block()"
								oncomplete="PF('blockUIWidget').unblock();updateTabViewWidth();"
								update=":projecttabview :growlForm">
							</p:ajax>
						</p:droppable>

						<p:droppable id="addTaskToDone_FromProg" for="doneFieldset"
							tolerance="touch" scope="ProgTask"
							disabled="#{jjsprint.disableDragDrop}"
							activeStyleClass="highLightRow" datasource="prog">
							<p:ajax listener="#{jJSprintBean.addTaskToDone}"
								onstart="PF('blockUIWidget').block()"
								oncomplete="PF('blockUIWidget').unblock();updateTabViewWidth();"
								update=":projecttabview :editBugDialog :growlForm">
							</p:ajax>
						</p:droppable>

						<p:droppable id="addTaskToTodo_FromProg" for="todoFieldset"
							tolerance="touch" scope="ProgTask"
							disabled="#{jjsprint.disableDragDrop}"
							activeStyleClass="highLightRow" datasource="prog">
							<p:ajax listener="#{jJSprintBean.addTaskToTodo}"
								onstart="PF('blockUIWidget').block()"
								oncomplete="PF('blockUIWidget').unblock();updateTabViewWidth();"
								update=":projecttabview :growlForm">
							</p:ajax>
						</p:droppable>

						<p:droppable id="addTaskToTodo_FromDone" for="tododropArea"
							tolerance="touch" scope="DoneTask"
							disabled="#{jjsprint.disableDragDrop}"
							activeStyleClass="highLightRow" datasource="done">
							<p:ajax listener="#{jJSprintBean.addTaskToTodo}"
								onstart="PF('blockUIWidget').block()"
								oncomplete="PF('blockUIWidget').unblock();updateTabViewWidth();"
								update=":projecttabview :growlForm">
							</p:ajax>
						</p:droppable>


						<p:droppable id="addTaskToProg_FromDone" for="progdropArea"
							tolerance="touch" scope="DoneTask"
							disabled="#{jjsprint.disableDragDrop}"
							activeStyleClass="highLightRow" datasource="done">
							<p:ajax listener="#{jJSprintBean.addTaskToProg}"
								onstart="PF('blockUIWidget').block()"
								oncomplete="PF('blockUIWidget').unblock();updateTabViewWidth();"
								update=":projecttabview :growlForm">
							</p:ajax>
						</p:droppable>
					</h:form>
				</p:tab>
			</p:tabView>
		</h:panelGroup>
	</h:panelGroup>
</ui:composition>
</html>
