<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">
<ui:composition>

	<pe:blockUI widgetVar="bugBlockUIWidget" target="createPanelGrid">
		<h:panelGrid columns="2" layout="grid">
			<p:graphicImage library="images" name="ajax-loader.gif"
				style="vertical-align: middle;" />
			<h:outputText value="#{messages.label_refresh}"
				style="white-space: nowrap;" />
		</h:panelGrid>
	</pe:blockUI>

	<p:panelGrid id="createPanelGrid">
		<p:row>
			<p:column colspan="1">
				<p:inputTextarea id="jJbugName" value="#{JJBug_.name}"
					required="true">
					<f:validateLength maximum="100" />
				</p:inputTextarea>
				<p:watermark for="jJbugName" value="Name : " />
			</p:column>
			<p:column colspan="1">
				<p:autoComplete id="jJbugCriticity" scrollHeight="200"
					value="#{JJBug_.criticity}" itemLabel="#{criticity.name}"
					itemValue="#{criticity}"
					converter="com.starit.janjoonweb.ui.mb.converter.JJCriticityConverter"
					dropdown="true" var="criticity"
					completeMethod="#{jJBugBean.completeCriticityBug}" />
				<p:watermark for="jJbugCriticity" value="Criticity : " />
			</p:column>
			<p:column colspan="1">
				<p:autoComplete id="jJbugImportance" scrollHeight="200"
					value="#{JJBug_.importance}" itemLabel="#{importance.name}"
					itemValue="#{importance}"
					converter="com.starit.janjoonweb.ui.mb.converter.JJImportanceConverter"
					dropdown="true" var="importance"
					completeMethod="#{jJBugBean.completeImportance}" />
				<p:watermark for="jJbugImportance" value="Importance : " />
			</p:column>
		</p:row>
		<p:row>
			<p:column colspan="1">
				<p:autoComplete id="jJbugStatus" value="#{JJBug_.status}"
					itemLabel="#{status.name}" itemValue="#{status}" scrollHeight="200"
					converter="com.starit.janjoonweb.ui.mb.converter.JJStatusConverter"
					dropdown="true" var="status"
					completeMethod="#{jJBugBean.completeStatusBug}" />
				<p:watermark for="jJbugStatus" value="Status : " />
			</p:column>
			<p:column colspan="1">
				<p:autoComplete id="jJbugRequirement" scrollHeight="200"
					value="#{jJBugBean.bugRequirementSelected}"
					widgetVar="jJbugRequirementWV"
					disabled="#{jJBugBean.bugProjectSelected==null and jJProjectBean.project == null}"
					itemLabel="#{requirement.name}" itemValue="#{requirement}"
					converter="com.starit.janjoonweb.ui.mb.converter.JJRequirementConverter"
					dropdown="true" var="requirement"
					onchange="jJbugTeststepWV.val('');"
					completeMethod="#{jJBugBean.completeReqBug}">
					<p:ajax event="itemSelect" update="jJbugRequirement jJbugTeststep" />
				</p:autoComplete>

				<p:watermark for="jJbugRequirement" value="Requirement : " />
			</p:column>
			<p:column colspan="1">
				<p:autoComplete id="jJbugTeststep" scrollHeight="200"
					widgetVar="jJbugTeststepWV" value="#{JJBug_.teststep}"
					itemLabel="#{teststep.name}" itemValue="#{teststep}"
					converter="com.starit.janjoonweb.ui.mb.converter.JJTeststepConverter"
					disabled="#{jJBugBean.bugProjectSelected == null and jJProjectBean.project == null and jJBugBean.bugRequirementSelected==null}"
					dropdown="true" var="teststep"
					completeMethod="#{jJBugBean.completeTestStepsBug}" />
				<p:watermark for="jJbugTeststep" value="Teststep : " />
			</p:column>
		</p:row>
		<p:row>
			<p:column colspan="1">
				<p:autoComplete id="jJbugProject"
					onchange="jJbugRequirementWV.val('');"
					value="#{jJBugBean.bugProjectSelected}" itemLabel="#{project.name}"
					itemValue="#{project}" rendered="#{jJProjectBean.project == null}"
					converter="com.starit.janjoonweb.ui.mb.converter.JJProjectConverter"
					dropdown="true" var="project" scrollHeight="200"
					completeMethod="#{jJBugBean.completeProject}">

					<p:ajax event="itemSelect" listener="#{jJBugBean.changeEvent}"
						update="jJbugRequirement jJbugTeststep jJbugProject">
						<f:setPropertyActionListener
							target="#{jJBugBean.bugRequirementSelected}" value="#{null}" />
					</p:ajax>

				</p:autoComplete>
				<p:selectOneMenu id="jJbugProject2" value="#{JJBug_.project}"
					rendered="#{jJProjectBean.project != null}"
					converter="com.starit.janjoonweb.ui.mb.converter.JJProjectConverter">
					<f:selectItem itemValue="#{jJProjectBean.project}"
						itemLabel="#{jJProjectBean.project.name}" itemDisabled="true" />
				</p:selectOneMenu>
				<p:watermark for="jJbugProject" value="Project : "
					rendered="#{jJProjectBean.project == null}" />
				<p:watermark for="jJbugProject2" value="Project : "
					rendered="#{jJProjectBean.project != null}" />

			</p:column>
			<p:column colspan="1">
				<p:autoComplete id="jJbugVersion" scrollHeight="200"
					onchange="jJbugBuild.val('');jJbugRequirementWV.val('');"
					value="#{jJBugBean.bugVersionSelected}"
					itemLabel="#{version.name} : #{version.product.name}"
					itemValue="#{version}" rendered="#{jJVersionBean.version == null}"
					converter="com.starit.janjoonweb.ui.mb.converter.JJVersionConverter"
					dropdown="true" var="version"
					completeMethod="#{jJBugBean.completeVersioningBug}">
					<p:ajax event="itemSelect" update="jJbugVersion jJbugBuild" />
				</p:autoComplete>
				<p:selectOneMenu id="jJbugVersion2"
					value="#{jJBugBean.bugVersionSelected}"
					rendered="#{jJVersionBean.version != null}"
					converter="com.starit.janjoonweb.ui.mb.converter.JJVersionConverter">
					<f:selectItem itemValue="#{jJVersionBean.version}"
						itemDisabled="true"
						itemLabel="#{jJVersionBean.version.name} : #{jJVersionBean.version.product.name}" />
				</p:selectOneMenu>
				<p:watermark for="jJbugVersion" value="Version : "
					rendered="#{jJVersionBean.version == null}" />
				<p:watermark for="jJbugVersion2" value="Version : "
					rendered="#{jJVersionBean.version != null}" />
			</p:column>
			<p:column colspan="1">
				<p:autoComplete id="jJbugBuild" scrollHeight="200"
					widgetVar="jJbugBuildWV" value="#{JJBug_.build}"
					itemLabel="#{build.name}" itemValue="#{build}"
					converter="com.starit.janjoonweb.ui.mb.converter.JJBuildConverter"
					dropdown="true" var="build"
					completeMethod="#{jJBugBean.completeBuildBug}">
					<f:validator validatorId="bugValidator" />
					<f:attribute name="jJbugVersion"
						value="#{jJBugBean.bugVersionSelected}" />
				</p:autoComplete>
				<p:watermark for="jJbugBuild" value="Build : " />
			</p:column>
		</p:row>
		<p:row>
			<p:column colspan="3" style="height:300px;width:600px;">
				<p:outputLabel value="Description" for="jJBugDescription"
					rendered="#{!loginBean.mobile}" />
				<p:outputLabel value="Description" for="jJBugMobileDescription"
					rendered="#{loginBean.mobile}" />
				<br />
				<pe:ckEditor id="jJBugDescription"
					toolbar="[['Bold','Italic','Underline','Strike','NumberedList','BulletedList','Image','TextColor','BGColor','Undo','Table']]"
					style="width:600px" rendered="#{!loginBean.mobile}"
					customConfig="#{request.contextPath}/resources/js/ckEditor.js"
					value="#{JJBug_.description}" required="true"
					requiredMessage="Description is a required value" />
				<p:editor id="jJBugMobileDescription" style="width:680px"
					rendered="#{loginBean.mobile}" value="#{JJBug_.description}"
					required="true" requiredMessage="Description is a required value" />

			</p:column>
		</p:row>
	</p:panelGrid>

</ui:composition>
</html>