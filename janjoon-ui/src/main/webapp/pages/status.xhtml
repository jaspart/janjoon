<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">
<ui:composition>

	<h:form id="statusForm">
		<h:panelGroup layout="block" styleClass="Container ui-fluid">
			<h:panelGroup layout="block" styleClass="Container60 Responsive100">
				<p:dataTable id="statusTable" var="status" lazy="true"
					paginatorPosition="bottom" value="#{jJStatusBean.lazyStatusList}"
					paginator="true" rows="10"
					emptyMessage="#{messages.label_notRecordFound}"
					paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="5,10,15" sortMode="multiple"
					widgetVar="statusTableWV">
					<f:facet name="header">
						<h:panelGroup layout="block" styleClass="Container">
							<h:panelGroup layout="block" style="float: right !important;"
								styleClass="Container40 Responsive100 Fs20">
								<h:outputText style="font-family: 'roboto_condensedlight';"
									value="#{messages.admin_status_table_header}" />
							</h:panelGroup>
							<h:panelGroup layout="block"
								styleClass="Container60 Responsive100">
								<p:inputText id="globalFilter"
									onkeyup="PF('statusTableWV').filter()"
									placeholder="#{messages.bug_table_search_watermark}" />
							</h:panelGroup>
						</h:panelGroup>
					</f:facet>
					<p:column sortBy="#{status.name}">
						<f:facet name="header">
							<h:outputText value="#{messages.admin_status_table_name_title}" />
						</f:facet>
						<h:outputText value="#{loginBean.checkMessage(status)}" />
					</p:column>

					<p:column sortBy="#{status.objet}" id="objet"
						filterMatchMode="exact" filterBy="#{status.objet}">
						<f:facet name="header">
							<h:outputText value="#{messages.admin_status_table_objet_title}" />
						</f:facet>
						<f:facet name="filter">
							<p:selectOneMenu var="type"
								style="padding-right: 35px !important;"
								panelStyleClass="specSelectOneMenuPanel"
								styleClass="specSelectOneMenu Fs14"
								onchange="PF('statusTableWV').filter()">
								<f:selectItems value="#{jJStatusBean.objectOptions}" />
								<p:column>
									<h:outputText value="#{type}" />
								</p:column>
							</p:selectOneMenu>
						</f:facet>
						<h:outputText value="#{status.objet}" />
					</p:column>

					<p:column sortBy="#{status.creationDate}" priority="6">
						<f:facet name="header">
							<h:outputText value="#{messages.admin_status_table_date_title}" />
						</f:facet>
						<h:outputText value="#{status.creationDate}">
							<f:convertDateTime type="date" locale="#{localeBean.locale}"
								pattern="dd/MM/yyyy HH:mm" />
						</h:outputText>
					</p:column>

					<!-- 				<p:column> -->
					<!-- 					<f:facet name="header"> -->
					<!-- 						<h:outputText value="#{messages.admin_status_table_creator_title}" /> -->
					<!-- 					</f:facet> -->
					<!-- 					<h:outputText value="#{status.createdBy.name}" /> -->
					<!-- 				</p:column> -->
					<p:column styleClass="action-column" style="width:10%;">
						<f:facet name="header">
							<h:outputText styleClass="ShowOnDesktop"
								value="#{messages.admin_status_table_action_title}" />
						</f:facet>

						<p:commandButton id="viewButton" type="button"
							icon="fa fa-list Fs20" styleClass="BlueButton littleButton" />
						<p:menu overlay="true" trigger="viewButton" my="right top"
							at="right bottom">
							<p:menuitem id="editButton" icon="fa fa-pencil Fs16"
								update=":tabview:statusDialogForm :tabview:statusDialogHeader"
								action="#{jJStatusBean.onEdit}" resetValues="true"
								oncomplete="PF('statusDialogWidget').show()"
								title="#{messages.label_edit}" value="#{messages.label_edit}">
								<f:setPropertyActionListener value="#{status}"
									target="#{jJStatusBean.JJStatus_}" />
									<f:setPropertyActionListener
									target="#{jJStatusBean.renderCreate}" value="false" />
							</p:menuitem>
							<p:menuitem id="deleteButton" icon="fa fa-trash Fs16"
								resetValues="true"
								oncomplete="PF('deleteSatDialogWidget').show()"
								value="#{messages.label_delete}"
								title="#{messages.label_delete}">
								<f:setPropertyActionListener value="#{status}"
									target="#{jJStatusBean.selectedStatus}" />
							</p:menuitem>

						</p:menu>
					</p:column>
					<f:facet name="footer">
						<h:panelGroup layout="block" styleClass="Container">
							<h:panelGroup layout="block"
								styleClass="Container50 Responsive50">
								<h:panelGroup layout="block" styleClass="ContainerIndent">
									<p:commandButton value="#{messages.admin_status_new_button}"
										id="createButton" icon="fa fa-plus Fs20" resetValues="true"
										update=":tabview:statusDialogForm :tabview:statusDialogHeader"
										oncomplete="PF('statusDialogWidget').show()"
										title="#{messages.admin_status_new_button}" >
										<f:setPropertyActionListener
									target="#{jJStatusBean.renderCreate}" value="true" />
									</p:commandButton>
								</h:panelGroup>
							</h:panelGroup>
						</h:panelGroup>
					</f:facet>
				</p:dataTable>
			</h:panelGroup>
		</h:panelGroup>
	</h:form>
	<p:dialog id="statusDialog" modal="true" responsive="true"
		widgetVar="statusDialogWidget" dynamic="true" resizable="false" 
		maximizable="false" showEffect="fade">
		<p:ajax event="close" update=":tabview:statusForm"
			listener="#{jJStatusBean.handleDialogClose}" />
			<f:facet name="header">
			<p:outputLabel id="statusDialogHeader"
				value="#{jJStatusBean.renderCreate ? messages.admin_status_new_title:messages.admin_status_edit_title}" />
		</f:facet>
		<h:panelGroup layout="block" styleClass="Container ui-fluid BorderAll"
			style="max-width:400px;">
			<h:form id="statusDialogForm" enctype="multipart/form-data">
				<h:panelGroup layout="block" styleClass="Container100">
					<p:messages id="msg" showDetail="false" closable="true" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="Container100">
					<h:panelGroup layout="block" styleClass="ContainerIndent">
						<p:inputText id="name"
							placeholder="#{messages.admin_status_table_name_title}"
							value="#{jJStatusBean.JJStatus_.name}"
							label="#{messages.admin_status_table_name_title}" required="true"
							widgetVar="nameWidget">
							<f:validateLength maximum="100" />
						</p:inputText>
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="Container100">
					<h:panelGroup layout="block" styleClass="Container25">
						<h:panelGroup layout="block" styleClass="ContainerIndentLabel">
							<p:outputLabel for="statusObject"
								value="#{messages.admin_status_table_objet_title}:" />
						</h:panelGroup>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="Container75">
						<h:panelGroup layout="block" styleClass="ContainerIndent">
							<p:autoComplete id="statusObject" scrollHeight="200"
								widgetVar="statusObjectWv"
								value="#{jJStatusBean.JJStatus_.objet}" itemValue="#{obj}"
								required="true" dropdown="true" var="obj" itemLabel="#{obj}"
								completeMethod="#{jJStatusBean.completeObject}" />
						</h:panelGroup>
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="Container100">
					<h:panelGroup layout="block" styleClass="Container25">
						<h:panelGroup layout="block" styleClass="ContainerIndentLabel">
							<p:outputLabel for="level"
								value="#{messages.admin_status_table_level_title}:" />
						</h:panelGroup>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="Container75">
						<h:panelGroup layout="block" styleClass="ContainerIndent">
							<p:spinner id="level"
								value="#{jJStatusBean.JJStatus_.levelStatus}" min="0" max="100" />
						</h:panelGroup>
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="Separator" />
				<h:panelGroup layout="block" styleClass="Container100">
					<h:panelGroup layout="block" styleClass="Container50">
						<h:panelGroup layout="block" styleClass="ContainerIndent">
							<p:commandButton id="createSaveButton"
								value="#{messages.admin_status_new_save_button}"
								action="#{jJStatusBean.persistStatus}"
								update=":tabview:statusDialogForm :growlForm" />
						</h:panelGroup>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="Container50">
						<h:panelGroup layout="block" styleClass="ContainerIndent">
							<p:commandButton id="createCloseButton" styleClass="GrayButton"
								value="#{messages.label_cancel}"
								oncomplete="PF('blockUIWidget').unblock()"
								onstart="PF('blockUIWidget').block()"
								onclick="PF('statusDialogWidget').hide()" type="button" />
						</h:panelGroup>
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</h:panelGroup>
	</p:dialog>

<!-- 	<p:dialog id="SeditDialog" header="#{messages.admin_status_edit_title}" -->
<!-- 		modal="true" widgetVar="editSatDialogWidget" dynamic="true" -->
<!-- 		resizable="true" responsive="true" maximizable="true" -->
<!-- 		showEffect="fade"> -->
<!-- 		<p:ajax event="close" update=":tabview:statusForm" -->
<!-- 			listener="#{jJStatusBean.handleDialogClose}" /> -->
<!-- 		<p:outputPanel id="SeditPanel"> -->
<!-- 			<h:form id="seditForm" enctype="multipart/form-data"> -->
<!-- 				<h:panelGrid id="editPanelGrid" columns="3" -->
<!-- 					binding="#{jJStatusBean.editPanelGrid}" styleClass="dialog" -->
<!-- 					columnClasses="col1,col2,col3" /> -->
<!-- 				<p:commandButton id="editSaveButton" -->
<!-- 					value="#{messages.admin_status_edit_save_button}" -->
<!-- 					action="#{jJStatusBean.persistStatus}" -->
<!-- 					update="editPanelGrid,:growlForm" /> -->
<!-- 				<p:commandButton id="editCloseButton" -->
<!-- 					value="#{messages.label_cancel}" -->
<!-- 					onclick="PF('editSatDialogWidget').hide()" type="button" /> -->
<!-- 			</h:form> -->
<!-- 		</p:outputPanel> -->
<!-- 	</p:dialog> -->

<!-- 	<p:dialog id="SviewDialog" responsive="true" -->
<!-- 		header="#{messages.admin_status_view_title} Status" modal="true" -->
<!-- 		widgetVar="viewSatDialogWidget" dynamic="true" resizable="true" -->
<!-- 		maximizable="true" showEffect="fade"> -->
<!-- 		<p:ajax event="close" update=":tabview:statusForm" -->
<!-- 			listener="#{jJStatusBean.handleDialogClose}" /> -->
<!-- 		<p:outputPanel id="SviewPanel"> -->
<!-- 			<h:form id="sviewForm" enctype="multipart/form-data"> -->
<!-- 				<h:panelGrid id="viewPanelGrid" columns="2" -->
<!-- 					binding="#{jJStatusBean.viewPanelGrid}" styleClass="dialog" -->
<!-- 					columnClasses="col1,col2" /> -->
<!-- 				<p:commandButton id="viewCloseButton" -->
<!-- 					value="#{messages.admin_status_view_close_button}" -->
<!-- 					onclick="PF('viewSatDialogWidget').hide()" type="button" /> -->
<!-- 			</h:form> -->
<!-- 		</p:outputPanel> -->
<!-- 	</p:dialog> -->

	<p:confirmDialog id="SdeleteDialog" widgetVar="deleteSatDialogWidget"
		message="#{messages.admin_status_delete_label}" showEffect="fade"
		header="#{messages.admin_status_delete_title}" severity="alarm">
		<p:outputPanel id="SdeletePanel">
			<h:form id="sdeleteForm">
				<p:commandButton id="deleteYesButton"
					value="#{messages.admin_status_delete_yes_label}"
					action="#{jJStatusBean.deleteStatus}"
					update=":tabview:statusForm :growlForm"
					oncomplete="PF('deleteSatDialogWidget').hide()" />
				<p:commandButton id="deleteNoButton"
					value="#{messages.admin_status_delete_no_label}"
					onclick="PF('deleteSatDialogWidget').hide()" type="button" />
			</h:form>
		</p:outputPanel>
	</p:confirmDialog>
</ui:composition>
</html>
