<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:pe="http://primefaces.org/ui/extensions">
<ui:composition>
	<pe:blockUI widgetVar="importBlockUIWidget"
		target="requirementImportPanel">
		<h:panelGrid columns="2">
			<p:graphicImage name="images/preloader.gif" library="rioLayout"
				style="vertical-align: middle;" />
			<h:outputText value="#{messages.label_refresh}"
				style="white-space: nowrap;" />
		</h:panelGrid>
	</pe:blockUI>

	<h:form id="importForm">
		<h:panelGroup layout="block" styleClass="Container ui-fluid BorderAll"
			style="max-width: 750px;">
			<h:panelGroup layout="block" styleClass="Container50 Responsive100">
				<h:panelGroup layout="block" style="/*margin-top: 5%;*/"
					styleClass="Container30">
					<h:panelGroup layout="block" styleClass="ContainerIndentLabel">
						<p:outputLabel for="projectSelectOneMenu"
							value="#{messages.specification_import_project_label}" />
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" style="/*margin-top: 5%;*/"
					styleClass="Container70">
					<h:panelGroup layout="block" styleClass="ContainerIndent">
						<p:selectOneMenu id="projectSelectOneMenu"
							value="#{jJRequirementBean.importProject}" effect="fade"
							filter="#{!loginBean.mobile}" filterMatchMode="startsWith"
							converter="com.starit.janjoonweb.ui.mb.converter.JJProjectConverter">

							<f:selectItem itemValue="#{null}"
								itemLabel="#{messages.specification_import_select_label}" />
							<f:selectItems value="#{jJRequirementBean.importProjectList}"
								var="p" itemLabel="#{p.name}" itemValue="#{p}" />
							<p:ajax partialSubmit="true"
								onstart="PF('importBlockUIWidget').block()"
								oncomplete="PF('importBlockUIWidget').unblock()"
								listener="#{jJRequirementBean.handelSelectImportProject}"
								update="importDataTable :importForm:importButton" />
						</p:selectOneMenu>
					</h:panelGroup>

				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="Container50 Responsive100">
				<h:panelGroup layout="block" style="/*margin-top: 5%;*/"
					styleClass="Container30">
					<h:panelGroup layout="block" styleClass="ContainerIndentLabel">
						<p:outputLabel for="categorySelectOneMenu"
							value="#{messages.specification_import_category_label}" />
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" style="/*margin-top: 5%;*/"
					styleClass="Container70">
					<h:panelGroup layout="block" styleClass="ContainerIndent">
						<p:selectOneMenu id="categorySelectOneMenu"
							value="#{jJRequirementBean.importCategory}" effect="fade"
							filter="#{!loginBean.mobile}" filterMatchMode="startsWith"
							converter="com.starit.janjoonweb.ui.mb.converter.JJCategoryConverter">

							<f:selectItem itemValue="#{null}"
								itemLabel="#{messages.specification_import_select_label}" />
							<f:selectItems value="#{jJRequirementBean.importCategoryList}"
								var="p" itemLabel="#{loginBean.checkMessage(p)}"
								itemValue="#{p}" />
							<p:ajax partialSubmit="true"
								onstart="PF('importBlockUIWidget').block()"
								oncomplete="PF('importBlockUIWidget').unblock()"
								listener="#{jJRequirementBean.handelSelectImportCategory}"
								update="importDataTable :importForm:importButton" />
						</p:selectOneMenu>
					</h:panelGroup>

				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="Container50 Responsive100">
				<h:panelGroup layout="block" style="/*margin-top: 5%;*/"
					styleClass="Container30">
					<h:panelGroup layout="block" styleClass="ContainerIndentLabel">
						<p:outputLabel for="productSelectOneMenu"
							value="#{messages.specification_import_product_label}" />
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" style="/*margin-top: 5%;*/"
					styleClass="Container70">
					<h:panelGroup layout="block" styleClass="ContainerIndent">
						<p:selectOneMenu id="productSelectOneMenu"
							value="#{jJRequirementBean.importProduct}" effect="fade"
							filter="#{!loginBean.mobile}" filterMatchMode="startsWith"
							converter="com.starit.janjoonweb.ui.mb.converter.JJProductConverter">

							<f:selectItem itemValue="#{null}"
								itemLabel="#{messages.specification_import_select_label}" />
							<f:selectItems value="#{jJRequirementBean.importProductList}"
								var="p" itemLabel="#{p.name}" itemValue="#{p}" />
							<p:ajax partialSubmit="true"
								onstart="PF('importBlockUIWidget').block()"
								oncomplete="PF('importBlockUIWidget').unblock()"
								listener="#{jJRequirementBean.handelSelectImportProduct}"
								update="importDataTable versionSelectOneMenu :importForm:importButton" />
						</p:selectOneMenu>
					</h:panelGroup>

				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="Container50 Responsive100">
				<h:panelGroup layout="block" style="/*margin-top: 5%;*/"
					styleClass="Container30">
					<h:panelGroup layout="block" styleClass="ContainerIndentLabel">
						<p:outputLabel for="versionSelectOneMenu"
							value="#{messages.specification_import_version_label}" />
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" style="/*margin-top: 5%;*/"
					styleClass="Container70">
					<h:panelGroup layout="block" styleClass="ContainerIndent">
						<p:selectOneMenu id="versionSelectOneMenu"
							value="#{jJRequirementBean.importVersion}" effect="fade"
							filter="#{!loginBean.mobile}" filterMatchMode="startsWith"
							disabled="#{jJRequirementBean.disableImportVersion}"
							converter="com.starit.janjoonweb.ui.mb.converter.JJVersionConverter">

							<f:selectItem itemValue="#{null}"
								itemLabel="#{messages.specification_import_select_label}" />
							<f:selectItems value="#{jJRequirementBean.importVersionList}"
								var="v" itemLabel="#{v.name}" itemValue="#{v}" />
							<p:ajax partialSubmit="true"
								onstart="PF('importBlockUIWidget').block()"
								oncomplete="PF('importBlockUIWidget').unblock()"
								listener="#{jJRequirementBean.handelSelectImportVersion}"
								update="importDataTable :importForm:importButton" />
						</p:selectOneMenu>
					</h:panelGroup>
				</h:panelGroup>

			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="Container50 Responsive100">
				<h:panelGroup layout="block" style="/*margin-top: 5%;*/"
					styleClass="Container30">
					<h:panelGroup layout="block" styleClass="ContainerIndentLabel">
						<p:outputLabel for="statusSelectOneMenu"
							value="#{messages.specification_import_status_label}" />
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" style="/*margin-top: 5%;*/"
					styleClass="Container70">
					<h:panelGroup layout="block" styleClass="ContainerIndent">
						<p:selectOneMenu id="statusSelectOneMenu"
							value="#{jJRequirementBean.importStatus}" effect="fade"
							filter="#{!loginBean.mobile}" filterMatchMode="startsWith"
							converter="com.starit.janjoonweb.ui.mb.converter.JJStatusConverter">

							<f:selectItem itemValue="#{null}"
								itemLabel="#{messages.specification_import_select_label}" />
							<f:selectItems value="#{jJRequirementBean.importStatusList}"
								var="p" itemLabel="#{loginBean.checkMessage(p)}"
								itemValue="#{p}" />
							<p:ajax partialSubmit="true"
								onstart="PF('importBlockUIWidget').block()"
								oncomplete="PF('importBlockUIWidget').unblock()"
								listener="#{jJRequirementBean.handelSelectImportStatus}"
								update="importDataTable :importForm:importButton" />
						</p:selectOneMenu>
					</h:panelGroup>

				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="Container100 Responsive100">
				<h:panelGroup layout="block" styleClass="ContainerIndent">
					<p:dataTable id="importDataTable" var="format" scrollable="true"
						style="width:100%;" scrollHeight="250"
						emptyMessage="#{messages.label_notRecordFound}"
						value="#{jJRequirementBean.importFormats}">
						<f:facet name="header">
							<h:outputText
								value="#{messages.specification_import_table_title}" />
						</f:facet>
						<p:column style="width:10%;text-align: center;">
							<f:facet name="header">
								<p:selectBooleanCheckbox
									value="#{jJRequirementBean.copyRequirements}">
									<p:ajax update="importDataTable :importForm:importButton"
										onstart="PF('importBlockUIWidget').block()"
										oncomplete="PF('importBlockUIWidget').unblock()"
										listener="#{jJRequirementBean.copyRequirementsListener}" />
								</p:selectBooleanCheckbox>
							</f:facet>
							<p:selectBooleanCheckbox value="#{format.copyRequirement}">
								<p:ajax update="importDataTable :importForm:importButton"
									listener="#{jJRequirementBean.copyRequirementListener}" />
							</p:selectBooleanCheckbox>
						</p:column>
						<p:column style="width:50%">
							<f:facet name="header">
								<h:outputText
									value="#{messages.specification_import_requirement_header}" />
							</f:facet>
							<h:outputText value="#{format.requirement.name}" />
						</p:column>

						<p:column style="width:20%;text-align: center;">
							<f:facet name="header">
								<p:row>
									<p:column>
										<h:outputText
											value="#{messages.specification_import_testcase_header}" />
									</p:column>
								</p:row>
							</f:facet>
							<p:selectBooleanCheckbox value="#{format.copyTestcase}">
								<p:ajax update="importDataTable"
									listener="#{jJRequirementBean.copyTestcase}" />
							</p:selectBooleanCheckbox>
						</p:column>

						<p:column style="width:20%;text-align: center;">
							<f:facet name="header">
								<p:row>
									<p:column>
										<h:outputText
											value="#{messages.specification_import_chapter_header}" />
									</p:column>
								</p:row>
							</f:facet>
							<p:selectBooleanCheckbox value="#{format.copyChapter}">
								<p:ajax update="importDataTable"
									listener="#{jJRequirementBean.copyChapter}" />
							</p:selectBooleanCheckbox>
						</p:column>
					</p:dataTable>
				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="EmptyBox5" />
			<h:panelGroup layout="block" styleClass="Container50 Responsive50 ">
				<h:panelGroup layout="block" styleClass="ContainerIndent">
					<p:commandButton id="importButton" value="Import"
						update=":growlForm" onstart="PF('importBlockUIWidget').block()"
						oncomplete="PF('importBlockUIWidget').unblock();updateDataTable();"
						disabled="#{jJRequirementBean.disableImportButton}"
						action="#{jJRequirementBean.importRequirement()}" />
				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="Container50 Responsive50 ">
				<h:panelGroup layout="block" styleClass="ContainerIndent">
					<p:commandButton id="viewCloseButton" styleClass="GrayButton"
						value="#{messages.label_cancel}"
						oncomplete="PF('blockUIWidget').unblock()"
						onstart="PF('blockUIWidget').block()"
						onclick="PF('requirementImportDialogWidget').hide()" type="button" />
				</h:panelGroup>
			</h:panelGroup>
		</h:panelGroup>
	</h:form>
</ui:composition>
</html>