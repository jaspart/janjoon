<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:pe="http://primefaces.org/ui/extensions">
<ui:composition>
	<pe:blockUI widgetVar="requirementBlockUIWidget"
		target="requirementDialogPanel">
		<h:panelGrid columns="2">
			<p:graphicImage name="images/preloader.gif" library="rioLayout"
				style="vertical-align: middle;" />
			<h:outputText value="#{messages.label_refresh}"
				style="white-space: nowrap;" />
		</h:panelGrid>
	</pe:blockUI>
	<h:form id="requirementDialogForm" style="padding:0px;">
		<h:panelGroup layout="block" styleClass="Container ui-fluid BorderAll"
			style="max-width: 750px;">
			<h:panelGroup layout="block" styleClass="Container100">
				<p:messages id="msg" showDetail="false" closable="true" />
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="Container50 Responsive100">
				<h:panelGroup layout="block" styleClass="ContainerIndent">
					<p:inputText id="nameReq"
						placeholder="#{messages.specification_create_name_watermark}"
						label="#{messages.specification_create_name_label}"
						value="#{jJRequirementBean.requirement.name}" required="true"
						requiredMessage="#{messages.specification_create_name_alert}">
						<f:validateLength maximum="100" />
					</p:inputText>
				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="Container50 Responsive100">
				<h:panelGroup layout="block" styleClass="Container30">
					<h:panelGroup layout="block" styleClass="ContainerIndentLabel">
						<p:outputLabel for="status"
							value="#{messages.specification_create_status_label}" />
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="Container70">
					<h:panelGroup layout="block" styleClass="ContainerIndent">
						<p:selectOneMenu id="status"
							value="#{jJRequirementBean.requirementStatus}" required="true"
							requiredMessage="#{messages.specification_create_status_alert}"
							effect="fade" filter="#{!loginBean.mobile}" filterMatchMode="startsWith"
							disabled="#{jJRequirementBean.disabledStatus}">
							<f:converter
								converterId="com.starit.janjoonweb.ui.mb.converter.JJStatusConverter" />
							<f:selectItems value="#{jJRequirementBean.requirementStatusList}"
								var="req" itemLabel="#{loginBean.checkMessage(req)}"
								itemValue="#{req}" />
							<p:ajax partialSubmit="true"
								listener="#{jJRequirementBean.handleSelectStatus()}" />
						</p:selectOneMenu>
					</h:panelGroup>

				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="EmptyBox5" />
			<h:panelGroup layout="block" styleClass="Container50 Responsive100">
				<h:panelGroup layout="block" style="/*margin-top: 5%;*/"
					styleClass="Container30">
					<h:panelGroup layout="block" styleClass="ContainerIndentLabel">
						<p:outputLabel for="project"
							value="#{messages.specification_create_project_label} *" />
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="Container70">
					<h:panelGroup layout="block" styleClass="ContainerIndent">
						<p:selectOneMenu id="project"
							value="#{jJRequirementBean.requirementProject}" effect="fade"
							filter="#{!loginBean.mobile}" filterMatchMode="startsWith"
							disabled="#{jJRequirementBean.disabledProject}"
							converter="com.starit.janjoonweb.ui.mb.converter.JJProjectConverter">

							<f:selectItems
								value="#{jJRequirementBean.requirementProjectList}" var="req"
								itemLabel="#{req.name}" itemValue="#{req}" />
							<p:ajax partialSubmit="true"
								onstart="PF('requirementBlockUIWidget').block()"
								oncomplete="PF('requirementBlockUIWidget').unblock()"
								update="lowRequirement mediumRequirement highRequirement chapter"
								listener="#{jJRequirementBean.handleSelectProject()}" />
						</p:selectOneMenu>
					</h:panelGroup>

				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="Container50 Responsive100">
				<h:panelGroup layout="block" style="/*margin-top: 5%;*/"
					styleClass="Container30">
					<h:panelGroup layout="block" styleClass="ContainerIndentLabel">
						<p:outputLabel for="chapter"
							value="#{messages.specification_create_chapter_label}:" />
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="Container70">
					<h:panelGroup layout="block" styleClass="ContainerIndent">
						<p:selectOneMenu id="chapter"
							value="#{jJRequirementBean.requirementChapter}" effect="fade"
							filter="#{!loginBean.mobile}" filterMatchMode="startsWith"
							converter="com.starit.janjoonweb.ui.mb.converter.JJChapterConverter">

							<f:selectItem itemValue="#{null}"
								itemLabel="#{messages.specification_create_select_label}" />
							<f:selectItems
								value="#{jJRequirementBean.requirementChapterList}" var="req"
								itemLabel="#{req.name}" itemValue="#{req}" />
							<p:ajax partialSubmit="true"
								listener="#{jJRequirementBean.handleSelectChapter()}" />
						</p:selectOneMenu>
					</h:panelGroup>

				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="Container50 Responsive100">
				<h:panelGroup layout="block" style="/*margin-top: 5%;*/"
					styleClass="Container30">
					<h:panelGroup layout="block" styleClass="ContainerIndentLabel">
						<p:outputLabel for="product"
							value="#{messages.specification_create_product_label}" />
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="Container70">
					<h:panelGroup layout="block" styleClass="ContainerIndent">
						<p:selectOneMenu id="product"
							value="#{jJRequirementBean.requirementProduct}" effect="fade"
							filter="#{!loginBean.mobile}" filterMatchMode="startsWith"
							converter="com.starit.janjoonweb.ui.mb.converter.JJProductConverter">

							<f:selectItem itemValue="#{null}"
								itemLabel="#{messages.specification_create_select_label}" />
							<f:selectItems
								value="#{jJRequirementBean.requirementProductList}" var="req"
								itemLabel="#{req.name}" itemValue="#{req}" />
							<p:ajax partialSubmit="true" update="version"
								onstart="PF('requirementBlockUIWidget').block()"
								oncomplete="PF('requirementBlockUIWidget').unblock()"
								listener="#{jJRequirementBean.handleSelectProduct()}" />
						</p:selectOneMenu>
					</h:panelGroup>

				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="Container50 Responsive100">
				<h:panelGroup layout="block" style="/*margin-top: 5%;*/"
					styleClass="Container30">
					<h:panelGroup layout="block" styleClass="ContainerIndentLabel">
						<p:outputLabel for="version"
							value="#{messages.specification_create_version_label}" />
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="Container70">
					<h:panelGroup layout="block" styleClass="ContainerIndent">
						<p:selectOneMenu id="version"
							value="#{jJRequirementBean.requirementVersion}" effect="fade"
							filter="#{!loginBean.mobile}" filterMatchMode="startsWith"
							disabled="#{jJRequirementBean.disabledVersion}"
							converter="com.starit.janjoonweb.ui.mb.converter.JJVersionConverter">

							<f:selectItem itemValue="#{null}"
								itemLabel="#{messages.specification_create_select_label}" />
							<f:selectItems
								value="#{jJRequirementBean.requirementVersionList}" var="req"
								itemLabel="#{req.name}" itemValue="#{req}" />
							<p:ajax partialSubmit="true"
								listener="#{jJRequirementBean.handleSelectVersion()}" />
						</p:selectOneMenu>
					</h:panelGroup>
				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup layout="block"
				rendered="#{requirementBean.reqDialogReqListrender}"
				styleClass="Container33 Responsive100">
				<h:panelGroup layout="block" styleClass="ContainerIndent">
					<p:selectCheckboxMenu id="lowRequirement"
						value="#{jJRequirementBean.selectedLowRequirementsList}"
						label="#{jJRequirementBean.lowCategoryName}" filter="#{!loginBean.mobile}"
						filterText="Filter" filterMatchMode="contains"
						converter="com.starit.janjoonweb.ui.mb.converter.JJRequirementConverter"
						disabled="#{jJRequirementBean.disabledLowRequirements}">
						<f:selectItems value="#{jJRequirementBean.lowRequirementsList}"
							var="requirement" itemLabel="#{requirement.name}"
							itemValue="#{requirement}" />
						<p:ajax listener="#{jJRequirementBean.handleChangeLow}" />
					</p:selectCheckboxMenu>
				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="Container33 Responsive100"
				rendered="#{requirementBean.reqDialogReqListrender}">
				<h:panelGroup layout="block" styleClass="ContainerIndent">
					<p:selectCheckboxMenu id="mediumRequirement"
						value="#{jJRequirementBean.selectedMediumRequirementsList}"
						label="#{jJRequirementBean.mediumCategoryName}" filter="#{!loginBean.mobile}"
						filterText="Filter" filterMatchMode="contains"
						converter="com.starit.janjoonweb.ui.mb.converter.JJRequirementConverter"
						disabled="#{jJRequirementBean.disabledMediumRequirements}">
						<f:selectItems value="#{jJRequirementBean.mediumRequirementsList}"
							var="requirement" itemLabel="#{requirement.name}"
							itemValue="#{requirement}" />
						<p:ajax listener="#{jJRequirementBean.handleChangeMedium}" />
					</p:selectCheckboxMenu>
				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup layout="block"
				rendered="#{requirementBean.reqDialogReqListrender}"
				styleClass="Container33 Responsive100">
				<h:panelGroup layout="block" styleClass="ContainerIndent">
					<p:selectCheckboxMenu id="highRequirement"
						value="#{jJRequirementBean.selectedHighRequirementsList}"
						label="#{jJRequirementBean.highCategoryName}" filter="#{!loginBean.mobile}"
						filterText="Filter" filterMatchMode="contains"
						converter="com.starit.janjoonweb.ui.mb.converter.JJRequirementConverter"
						disabled="#{jJRequirementBean.disabledHighRequirements}">
						<f:selectItems value="#{jJRequirementBean.highRequirementsList}"
							var="requirement" itemLabel="#{requirement.name}"
							itemValue="#{requirement}" />
						<p:ajax listener="#{jJRequirementBean.handleChangeHigh}" />
					</p:selectCheckboxMenu>
				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="Container100"
				style="min-height: 220px;" rendered="#{!loginBean.mobile}">
				<h:panelGroup layout="block" styleClass="ContainerIndent">
					<p:outputLabel
						value="#{messages.specification_create_description_label}" />
					<pe:ckEditor id="description" width="100%" height="150px"
						toolbar="#{imageStreamer.ckEditorToolBar}"
						customConfig="#{request.contextPath}/resources/js/ckEditor.js"
						value="#{jJRequirementBean.requirement.description}"
						required="true" rendered="#{!loginBean.mobile}"
						requiredMessage="#{messages.specification_create_description_alert}" />
				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="Container100"
				rendered="#{loginBean.mobile}">
				<h:panelGroup layout="block" styleClass="ContainerIndent">
					<p:inputTextarea id="descriptionMobile"
						placeholder="#{messages.specification_create_description_label}"
						value="#{jJRequirementBean.requirement.description}"
						required="true" rendered="#{loginBean.mobile}"
						requiredMessage="#{messages.specification_create_description_alert}" />
				</h:panelGroup>
			</h:panelGroup>
			<!--div class="Container100" rendered="#{jJRequirementBean.requirement.id != null}">
					<p:dataTable id="testCaseDataTable" var="testCaseModel"
						selection="#{jJRequirementBean.reqSelectedtestCases}"
						rowKey="#{testCaseModel.id}"
						emptyMessage="#{messages.label_notRecordFound}" scrollable="true"
						style="width:100%;" scrollHeight="200"
						value="#{jJRequirementBean.reqtestCases}">
						<p:column selectionMode="multiple"
							style="width:30%;text-align:center" />
						<p:column style="width:70%" headerText="TestCases:">
							<p:commandLink target="_blank" value="#{testCaseModel.name}"
								action="#{jJTestcaseBean.testCaseInfo(testCaseModel.id)}"
								ajax="false" immediate="true">
							</p:commandLink>
						</p:column>
						<f:facet name="footer">
							<p:commandButton
								onstart="PF('requirementBlockUIWidget').block()"
								oncomplete="PF('requirementBlockUIWidget').unblock()"
								disabled="#{empty jJRequirementBean.reqtestCases}"
								update="testCaseDataTable :growlForm"
								process="testCaseDataTable" value="Update"
								action="#{jJRequirementBean.updateReqTestCases(jJTestcaseBean)}" />
							<br />
							<p:inputText id="testcase" style="width:50%;"
								value="#{jJRequirementBean.testCaseName}" placeholder="Nom">
								<f:validateLength maximum="100" />
								<p:ajax event="keyup" update="addTestCase" />
							</p:inputText>								
							<p:commandButton id="addTestCase"
								disabled="#{empty jJRequirementBean.testCaseName}"
								onstart="PF('requirementBlockUIWidget').block()"
								oncomplete="PF('requirementBlockUIWidget').unblock()"
								style="font-size: 1.0em !important;float:right;top: -3px;"
								update="testcase testCaseDataTable :growlForm"
								action="#{jJRequirementBean.addTestCase(jJTestcaseBean)}"
								value="Ajouter TestCase" process="@this,testcase" />
						</f:facet>
					</p:dataTable>
			</div-->
			<h:panelGroup layout="block" styleClass="Container100">
				<h:panelGroup layout="block" styleClass="ContainerIndent">
					<p:inputTextarea id="note" rows="2"
						placeholder="#{messages.specification_create_note_watermark}"
						value="#{jJRequirementBean.requirement.note}" autoResize="false"
						style="resize: none;" />
				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup layout="block" rendered="#{!loginBean.mobile}"
				styleClass="Container50 Responsive50 ">
				<h:panelGroup layout="block" styleClass="ContainerIndent">
					<p:commandButton
						value="#{messages.specification_create_save_button}"
						icon="fa fa-save Fs16"
						onstart="PF('requirementBlockUIWidget').block()"
						oncomplete="PF('requirementBlockUIWidget').unblock()"
						action="#{jJRequirementBean.save}" rendered="#{!loginBean.mobile}"
						process="@this,nameReq,status,project,product,version,chapter,description,lowRequirement,mediumRequirement,highRequirement,note"
						widgetVar="requirementSaveWidget" update="@form :growlForm" />
				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup layout="block" rendered="#{loginBean.mobile}"
				styleClass="Container50 Responsive50 ">
				<h:panelGroup layout="block" styleClass="ContainerIndent">
					<p:commandButton
						value="#{messages.specification_create_save_button}"
						icon="fa fa-save Fs16"
						onstart="PF('requirementBlockUIWidget').block()"
						oncomplete="PF('requirementBlockUIWidget').unblock()"
						action="#{jJRequirementBean.save}" rendered="#{loginBean.mobile}"
						process="@this,nameReq,status,project,product,version,chapter,descriptionMobile,lowRequirement,mediumRequirement,highRequirement,note"
						widgetVar="requirementSaveWidget" update="@form :growlForm" />
				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="Container50 Responsive50 ">
				<h:panelGroup layout="block" styleClass="ContainerIndent">
					<p:commandButton id="viewCloseButton" styleClass="GrayButton"
						value="#{messages.label_cancel}"
						oncomplete="PF('blockUIWidget').unblock()"
						onstart="PF('blockUIWidget').block()"
						onclick="PF('requirementDialogWidget').hide()" type="button" />
				</h:panelGroup>
			</h:panelGroup>
		</h:panelGroup>
	</h:form>
</ui:composition>
</html>