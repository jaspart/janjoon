<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<ui:composition>
	<title>#{applicationBean.appName}</title>
	<h:outputStylesheet library="css" name="standard.css" />
	<h:outputScript library="js" name="calendar.js" />
	<h:form prependId="false" id="headerForm">
		<p:growl id="messagesHeader" />
		<h:panelGrid id="panelMenu" columns="3" cellpadding="2">
			<p:tabMenu id="tabMenu" name="content">
				<p:menuitem value="home" icon="ui-icon-home" url="/pages/main.jsf"/>
				<p:menuitem value="Project" url="/pages/planning.jsf"
					icon="ui-icon-clipboard" disabled="true" />
				<p:menuitem value="Specs" url="/pages/specifications.jsf"
					icon="ui-icon-document" update=":contentGrid" />
				<p:menuitem value="Bugs" url="/pages/bugs.jsf" icon="ui-icon-gear"
					disabled="true" />
				<p:menuitem value="Dev" url="/pages/development.jsf"
					icon="ui-icon-wrench" disabled="true" />
				<p:menuitem value="Test" url="/pages/test.jsf" icon="ui-icon-check"
					update=":contentGrid" />
				<p:menuitem value="Delivery" url="/pages/delivery.jsf"
					icon="ui-icon-star" disabled="true" />
				<p:menuitem value="Teams" url="/pages/teams.jsf"
					icon="ui-icon-person" disabled="true" />
				<p:menuitem value="Stats" url="/pages/stats.jsf"
					icon="ui-icon-arrowreturnthick-1-n" disabled="true" />
				<p:menuitem value="Admin" url="/pages/administration.jsf"
					icon="ui-icon-key" update=":contentGrid" />
				<f:facet name="options">
					<p:inputText style="margin-right:10px" />
					<p:commandButton type="button" value="Logout"
						icon="ui-icon-extlink" />
				</f:facet>
			</p:tabMenu>
			<h:panelGrid columns="2" cellpadding="2" align="right">
				<h:outputText value="Project :" />
				<p:selectOneMenu id="projectSelectOneMenu"
					value="#{jJProjectBean.project}" panelStyle="width:150px"
					effect="fade" style="width:160px" filter="true"
					filterMatchMode="startsWith">

					<f:converter
						converterId="com.funder.janjoonweb.ui.mb.converter.JJProjectConverter" />

					<f:selectItem itemLabel="#{jJProjectBean.project.name}"
						itemValue="#{jJProjectBean.project}" />
					<f:selectItems value="#{jJProjectBean.projectList}" var="p"
						itemLabel="#{p.name}" itemValue="#{p}" />

					<p:ajax process="@this" partialSubmit="true"
						listener="#{jJProjectBean.handleSelectProject(jJProductBean,jJVersionBean,jJRequirementBean,jJChapterBean,jJTestcaseBean,jJTeststepBean,jJBugBean)}"
						update="messagesHeader productSelectOneMenu versionSelectOneMenu :contentGrid" />
				</p:selectOneMenu>

				<h:outputText value="Product :" />
				<p:selectOneMenu id="productSelectOneMenu"
					value="#{jJProductBean.product}" panelStyle="width:150px"
					effect="fade" style="width:160px" filter="true"
					filterMatchMode="startsWith" disabled="#{jJProductBean.disabled}">
					<f:converter
						converterId="com.funder.janjoonweb.ui.mb.converter.JJProductConverter" />

					<f:selectItem itemLabel="#{jJProductBean.product.name}"
						itemValue="#{jJProductBean.product}" />
					<f:selectItems value="#{jJProductBean.productList}" var="p"
						itemLabel="#{p.name}" itemValue="#{p}" />

					<p:ajax process="@this" partialSubmit="true"
						listener="#{jJProductBean.handleSelectProduct(jJVersionBean,jJProjectBean,jJRequirementBean,jJChapterBean)}"
						update="messagesHeader versionSelectOneMenu :contentGrid" />
				</p:selectOneMenu>

				<h:outputText value="Version :" />
				<p:selectOneMenu id="versionSelectOneMenu"
					value="#{jJVersionBean.version}" panelStyle="width:150px"
					effect="fade" style="width:160px" filter="true"
					filterMatchMode="startsWith" disabled="#{jJVersionBean.disabled}">
					<f:converter
						converterId="com.funder.janjoonweb.ui.mb.converter.JJVersionConverter" />

					<f:selectItem itemLabel="#{jJVersionBean.version.name}"
						itemValue="#{jJVersionBean.version}" />
					<f:selectItems value="#{jJVersionBean.versionList}" var="v"
						itemLabel="#{v.name}" itemValue="#{v}" />

					<p:ajax process="@this" partialSubmit="true"
						listener="#{jJVersionBean.handleSelect(jJRequirementBean)}"
						update="messagesHeader :contentGrid" />
				</p:selectOneMenu>
			</h:panelGrid>
		</h:panelGrid>
		<p:sticky target="panelMenu" />
	</h:form>
</ui:composition>
</html>
